<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Sharing the Data Center Network
Abstract 虽然今天的数据中心在许多不合作的应用程序之间进行多路复用，但它们缺乏有效的手段来共享网络。正如我们在生产数据中心的实验所显示的那样，依赖TCP的拥塞控制，网络将面临拒绝服务攻击和性能干扰。我们提出了Seawall，这是一种网络带宽分配方案，根据管理员指定的策略划分网络工作容量。 Seawall通过拥挤控制、点对多点、边对边隧道的隧道交通来计算和执行分配。无论应用程序的流量组合中有多少流、协议或目的地，最终的分配都保持稳定。与其他方案不同，Seawall可以轻松支持动态的政策更改，并可根据当今数据中心的应用程序数量和流失量进行扩展。通过对原型的评估，我们发现Seawall增加的开销很小，并且实现了很强的性能隔离。
1 INTRODUCTION 数据中心对于提供当今互联网业务（包括网络搜索、内容分发和社交网络）所需的大量计算和存储资源至关重要。为了实现成本效率和按需扩展，云数据中心[5,28]是高度复用的共享环境，来自多个租户的虚拟机和任务共存于同一集群中。由于这些应用程序来自不相关的客户，它们在很大程度上是不协调的，相互不信任的。因此，网络性能干扰和拒绝服务攻击的可能性很高，因此性能可预测性仍然是客户评估迁移到云数据中心的关键问题[8]。
虽然数据中心提供了许多机制来调度本地计算、内存和磁盘资源[10,15]，但现有的网络资源分配机制却存在不足。TCP拥塞控制等终端主机机制（或TFRC和DCCP等变体）已被广泛部署，可扩展到现有流量负载，并在很大程度上通过基于流的公平性概念来决定网络共享。然而，TCP并不能将租户彼此隔离开来：设计不良或恶意的应用程序可以通过打开更多流或使用忽略拥塞控制的不符合协议实现来消耗网络容量，从而损害其他应用程序。因此，虽然使用TCP的资源分配是可伸缩的，并实现了较高的网络利用率，但它不能提供健壮的性能隔离。
交换机和路由器机制（如CoS标签、加权公平排队、预订、QCN[29]）与租户不当行为脱钩。然而，这些继承自企业网络和互联网的功能在应用于要求苛刻的云数据中心环境时用途有限，因为它们无法跟上数据中心的规模和变化（例如租户数量、新虚拟机的到达率），只能以网络利用率为代价获得隔离，或者可能需要新的硬件。
为了更好的解决方案，我们提出了Seawall，这是一种基于边缘的机制，允许管理员规定如何共享他们的网络。无论流量、协议或参与者的数量等交通特征如何，Seawall都能发挥作用。Seawall提供了一个简单的抽象：为作为流量源（VM、进程等）的每个本地实体指定一个网络权重，Seawall确保在所有网络链路上，实体获得的带宽份额与其重量成正比。为了实现效率，Seawall正在节约工作，按比例将未使用的股份重新分配给当前活跃的资源。
除了通过减轻恶意租户的DoS攻击和推广现有的资源调配模型来提高安全性之外，每个实体的权重还可以更好地控制基础设施服务。数据中心通常将对延迟和吞吐量敏感的任务与后台基础设施服务相结合。例如，客户生成的web流量与VM部署和迁移任务的需求相抗衡。每个实体的权重消除了 hand-craft每个单独服务的需要。
此外，每个实体的权重还可以更好地控制应用程序级别的目标。网络分配决策可能会对端到端指标（如完成时间或吞吐量）产生重大影响。例如，在map reduce集群中，与共享同一瓶颈的map任务相比，具有高扇入的reduce任务可以打开更多的流。基于流的公平性优先考虑高风扇，减少任务，而不是其他任务，导致进程不平衡，导致CPU资源闲置，降低集群吞吐量。相比之下，海堤将网络分配与通信模式分离。
**Seawall通过将网络共享问题简化为分布式拥塞控制，实现了可伸缩的资源分配。**TCP的普遍性表明，这种算法可以扩展到大量参与者，快速适应变化，并且可以严格在边缘实现。虽然Seawall借鉴了TCP，但Seawall的体系结构和控制回路确保了对租户不当行为的鲁性。Seawall在发送方使用一个垫片层，通过强制所有交通进入拥堵控制隧道，强制遵守政策。为了防止租户绕过Seawall，垫片层在虚拟化或平台网络堆栈中运行，在那里它与租户代码很好地隔离。
简单地对每个目的地实施一个独立的类似TCP的隧道，将允许每个源通过与更多目的地通信来实现更高的速率。由于这无法实现基于每个实体权重的期望策略，因此Seawall使用了一种新的控制回路，将来自多个目的地的反馈结合起来。"><meta property="og:title" content><meta property="og:description" content="Sharing the Data Center Network
Abstract 虽然今天的数据中心在许多不合作的应用程序之间进行多路复用，但它们缺乏有效的手段来共享网络。正如我们在生产数据中心的实验所显示的那样，依赖TCP的拥塞控制，网络将面临拒绝服务攻击和性能干扰。我们提出了Seawall，这是一种网络带宽分配方案，根据管理员指定的策略划分网络工作容量。 Seawall通过拥挤控制、点对多点、边对边隧道的隧道交通来计算和执行分配。无论应用程序的流量组合中有多少流、协议或目的地，最终的分配都保持稳定。与其他方案不同，Seawall可以轻松支持动态的政策更改，并可根据当今数据中心的应用程序数量和流失量进行扩展。通过对原型的评估，我们发现Seawall增加的开销很小，并且实现了很强的性能隔离。
1 INTRODUCTION 数据中心对于提供当今互联网业务（包括网络搜索、内容分发和社交网络）所需的大量计算和存储资源至关重要。为了实现成本效率和按需扩展，云数据中心[5,28]是高度复用的共享环境，来自多个租户的虚拟机和任务共存于同一集群中。由于这些应用程序来自不相关的客户，它们在很大程度上是不协调的，相互不信任的。因此，网络性能干扰和拒绝服务攻击的可能性很高，因此性能可预测性仍然是客户评估迁移到云数据中心的关键问题[8]。
虽然数据中心提供了许多机制来调度本地计算、内存和磁盘资源[10,15]，但现有的网络资源分配机制却存在不足。TCP拥塞控制等终端主机机制（或TFRC和DCCP等变体）已被广泛部署，可扩展到现有流量负载，并在很大程度上通过基于流的公平性概念来决定网络共享。然而，TCP并不能将租户彼此隔离开来：设计不良或恶意的应用程序可以通过打开更多流或使用忽略拥塞控制的不符合协议实现来消耗网络容量，从而损害其他应用程序。因此，虽然使用TCP的资源分配是可伸缩的，并实现了较高的网络利用率，但它不能提供健壮的性能隔离。
交换机和路由器机制（如CoS标签、加权公平排队、预订、QCN[29]）与租户不当行为脱钩。然而，这些继承自企业网络和互联网的功能在应用于要求苛刻的云数据中心环境时用途有限，因为它们无法跟上数据中心的规模和变化（例如租户数量、新虚拟机的到达率），只能以网络利用率为代价获得隔离，或者可能需要新的硬件。
为了更好的解决方案，我们提出了Seawall，这是一种基于边缘的机制，允许管理员规定如何共享他们的网络。无论流量、协议或参与者的数量等交通特征如何，Seawall都能发挥作用。Seawall提供了一个简单的抽象：为作为流量源（VM、进程等）的每个本地实体指定一个网络权重，Seawall确保在所有网络链路上，实体获得的带宽份额与其重量成正比。为了实现效率，Seawall正在节约工作，按比例将未使用的股份重新分配给当前活跃的资源。
除了通过减轻恶意租户的DoS攻击和推广现有的资源调配模型来提高安全性之外，每个实体的权重还可以更好地控制基础设施服务。数据中心通常将对延迟和吞吐量敏感的任务与后台基础设施服务相结合。例如，客户生成的web流量与VM部署和迁移任务的需求相抗衡。每个实体的权重消除了 hand-craft每个单独服务的需要。
此外，每个实体的权重还可以更好地控制应用程序级别的目标。网络分配决策可能会对端到端指标（如完成时间或吞吐量）产生重大影响。例如，在map reduce集群中，与共享同一瓶颈的map任务相比，具有高扇入的reduce任务可以打开更多的流。基于流的公平性优先考虑高风扇，减少任务，而不是其他任务，导致进程不平衡，导致CPU资源闲置，降低集群吞吐量。相比之下，海堤将网络分配与通信模式分离。
**Seawall通过将网络共享问题简化为分布式拥塞控制，实现了可伸缩的资源分配。**TCP的普遍性表明，这种算法可以扩展到大量参与者，快速适应变化，并且可以严格在边缘实现。虽然Seawall借鉴了TCP，但Seawall的体系结构和控制回路确保了对租户不当行为的鲁性。Seawall在发送方使用一个垫片层，通过强制所有交通进入拥堵控制隧道，强制遵守政策。为了防止租户绕过Seawall，垫片层在虚拟化或平台网络堆栈中运行，在那里它与租户代码很好地隔离。
简单地对每个目的地实施一个独立的类似TCP的隧道，将允许每个源通过与更多目的地通信来实现更高的速率。由于这无法实现基于每个实体权重的期望策略，因此Seawall使用了一种新的控制回路，将来自多个目的地的反馈结合起来。"><meta property="og:type" content="website"><meta property="og:image" content="https://jieye-ericx.github.io/icon.png"><meta property="og:url" content="https://jieye-ericx.github.io/Sharing-the-data-center-network/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Sharing the Data Center Network
Abstract 虽然今天的数据中心在许多不合作的应用程序之间进行多路复用，但它们缺乏有效的手段来共享网络。正如我们在生产数据中心的实验所显示的那样，依赖TCP的拥塞控制，网络将面临拒绝服务攻击和性能干扰。我们提出了Seawall，这是一种网络带宽分配方案，根据管理员指定的策略划分网络工作容量。 Seawall通过拥挤控制、点对多点、边对边隧道的隧道交通来计算和执行分配。无论应用程序的流量组合中有多少流、协议或目的地，最终的分配都保持稳定。与其他方案不同，Seawall可以轻松支持动态的政策更改，并可根据当今数据中心的应用程序数量和流失量进行扩展。通过对原型的评估，我们发现Seawall增加的开销很小，并且实现了很强的性能隔离。
1 INTRODUCTION 数据中心对于提供当今互联网业务（包括网络搜索、内容分发和社交网络）所需的大量计算和存储资源至关重要。为了实现成本效率和按需扩展，云数据中心[5,28]是高度复用的共享环境，来自多个租户的虚拟机和任务共存于同一集群中。由于这些应用程序来自不相关的客户，它们在很大程度上是不协调的，相互不信任的。因此，网络性能干扰和拒绝服务攻击的可能性很高，因此性能可预测性仍然是客户评估迁移到云数据中心的关键问题[8]。
虽然数据中心提供了许多机制来调度本地计算、内存和磁盘资源[10,15]，但现有的网络资源分配机制却存在不足。TCP拥塞控制等终端主机机制（或TFRC和DCCP等变体）已被广泛部署，可扩展到现有流量负载，并在很大程度上通过基于流的公平性概念来决定网络共享。然而，TCP并不能将租户彼此隔离开来：设计不良或恶意的应用程序可以通过打开更多流或使用忽略拥塞控制的不符合协议实现来消耗网络容量，从而损害其他应用程序。因此，虽然使用TCP的资源分配是可伸缩的，并实现了较高的网络利用率，但它不能提供健壮的性能隔离。
交换机和路由器机制（如CoS标签、加权公平排队、预订、QCN[29]）与租户不当行为脱钩。然而，这些继承自企业网络和互联网的功能在应用于要求苛刻的云数据中心环境时用途有限，因为它们无法跟上数据中心的规模和变化（例如租户数量、新虚拟机的到达率），只能以网络利用率为代价获得隔离，或者可能需要新的硬件。
为了更好的解决方案，我们提出了Seawall，这是一种基于边缘的机制，允许管理员规定如何共享他们的网络。无论流量、协议或参与者的数量等交通特征如何，Seawall都能发挥作用。Seawall提供了一个简单的抽象：为作为流量源（VM、进程等）的每个本地实体指定一个网络权重，Seawall确保在所有网络链路上，实体获得的带宽份额与其重量成正比。为了实现效率，Seawall正在节约工作，按比例将未使用的股份重新分配给当前活跃的资源。
除了通过减轻恶意租户的DoS攻击和推广现有的资源调配模型来提高安全性之外，每个实体的权重还可以更好地控制基础设施服务。数据中心通常将对延迟和吞吐量敏感的任务与后台基础设施服务相结合。例如，客户生成的web流量与VM部署和迁移任务的需求相抗衡。每个实体的权重消除了 hand-craft每个单独服务的需要。
此外，每个实体的权重还可以更好地控制应用程序级别的目标。网络分配决策可能会对端到端指标（如完成时间或吞吐量）产生重大影响。例如，在map reduce集群中，与共享同一瓶颈的map任务相比，具有高扇入的reduce任务可以打开更多的流。基于流的公平性优先考虑高风扇，减少任务，而不是其他任务，导致进程不平衡，导致CPU资源闲置，降低集群吞吐量。相比之下，海堤将网络分配与通信模式分离。
**Seawall通过将网络共享问题简化为分布式拥塞控制，实现了可伸缩的资源分配。**TCP的普遍性表明，这种算法可以扩展到大量参与者，快速适应变化，并且可以严格在边缘实现。虽然Seawall借鉴了TCP，但Seawall的体系结构和控制回路确保了对租户不当行为的鲁性。Seawall在发送方使用一个垫片层，通过强制所有交通进入拥堵控制隧道，强制遵守政策。为了防止租户绕过Seawall，垫片层在虚拟化或平台网络堆栈中运行，在那里它与租户代码很好地隔离。
简单地对每个目的地实施一个独立的类似TCP的隧道，将允许每个源通过与更多目的地通信来实现更高的速率。由于这无法实现基于每个实体权重的期望策略，因此Seawall使用了一种新的控制回路，将来自多个目的地的反馈结合起来。"><meta name=twitter:image content="https://jieye-ericx.github.io/icon.png"><title>ericx 's 数字花园</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://jieye-ericx.github.io//icon.png><link href=https://jieye-ericx.github.io/styles.80333fa2099c0bee674efa435fde378c.min.css rel=stylesheet><link href=https://jieye-ericx.github.io/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://jieye-ericx.github.io/js/darkmode.48459b7116d092b4e98d2cab704cad80.min.js></script>
<script src=https://jieye-ericx.github.io/js/util.00639692264b21bc3ee219733d38a8be.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/core@1.2.1></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.2.1></script>
<script defer src=https://jieye-ericx.github.io/js/popover.aa9bc99c7c38d3ae9538f218f1416adb.min.js></script>
<script defer src=https://jieye-ericx.github.io/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://jieye-ericx.github.io/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://jieye-ericx.github.io/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://jieye-ericx.github.io/",fetchData=Promise.all([fetch("https://jieye-ericx.github.io/indices/linkIndex.498f8802e86f71aa2af4d45d6c4096d6.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://jieye-ericx.github.io/indices/contentIndex.5368a39ad15318a851f2d088b43f3a36.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://jieye-ericx.github.io",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://jieye-ericx.github.io",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'’':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/jieye-ericx.github.io\/js\/router.d6fe6bd821db9ea97f9aeefae814d8e7.min.js"
    attachSPARouting(init, render)
  </script><script defer data-domain=jieye-ericx.github.io src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://jieye-ericx.github.io/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://jieye-ericx.github.io/>ericx 's 数字花园</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><p class=meta>Last updated
Unknown
<a href=https://github.com/jackyzha0/quartz/tree/hugo/content/Sharing%20the%20data%20center%20network.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#21-performance-interference-in-infrastructure-cloud-services>2.1 Performance interference in infrastructure cloud services</a></li></ol></nav></details></aside><p><strong>Sharing the Data Center Network</strong></p><a href=#abstract><h1 id=abstract><span class=hanchor arialabel=Anchor># </span>Abstract</h1></a><p>虽然今天的数据中心在许多不合作的应用程序之间进行多路复用，但它们缺乏有效的手段来共享网络。正如我们在生产数据中心的实验所显示的那样，依赖TCP的拥塞控制，网络将面临拒绝服务攻击和性能干扰。<strong>我们提出了Seawall，这是一种网络带宽分配方案，根据管理员指定的策略划分网络工作容量。</strong>
Seawall通过拥挤控制、点对多点、边对边隧道的隧道交通来计算和执行分配。无论应用程序的流量组合中有多少流、协议或目的地，最终的分配都保持稳定。与其他方案不同，Seawall可以轻松支持动态的政策更改，并可根据当今数据中心的应用程序数量和流失量进行扩展。通过对原型的评估，我们发现Seawall增加的开销很小，并且实现了很强的性能隔离。</p><a href=#1-introduction><h1 id=1-introduction><span class=hanchor arialabel=Anchor># </span>1 INTRODUCTION</h1></a><p>数据中心对于提供当今互联网业务（包括网络搜索、内容分发和社交网络）所需的大量计算和存储资源至关重要。为了实现成本效率和按需扩展，云数据中心[5,28]是高度复用的共享环境，来自多个租户的虚拟机和任务共存于同一集群中。由于这些应用程序来自不相关的客户，它们在很大程度上是不协调的，相互不信任的。因此，网络性能干扰和拒绝服务攻击的可能性很高，因此性能可预测性仍然是客户评估迁移到云数据中心的关键问题[8]。</p><p>虽然数据中心提供了许多机制来调度本地计算、内存和磁盘资源[10,15]，但现有的网络资源分配机制却存在不足。TCP拥塞控制等终端主机机制（或TFRC和DCCP等变体）已被广泛部署，可扩展到现有流量负载，并在很大程度上通过基于流的公平性概念来决定网络共享。然而，TCP并不能将租户彼此隔离开来：设计不良或恶意的应用程序可以通过打开更多流或使用忽略拥塞控制的不符合协议实现来消耗网络容量，从而损害其他应用程序。因此，<strong>虽然使用TCP的资源分配是可伸缩的，并实现了较高的网络利用率，但它不能提供健壮的性能隔离</strong>。</p><p>交换机和路由器机制（如CoS标签、加权公平排队、预订、QCN[29]）与租户不当行为脱钩。然而，这些继承自企业网络和互联网的功能在应用于要求苛刻的云数据中心环境时用途有限，因为它们无法跟上数据中心的规模和变化（例如租户数量、新虚拟机的到达率），只能以网络利用率为代价获得隔离，或者可能需要新的硬件。</p><p>为了更好的解决方案，我们提出了Seawall，这是一种基于边缘的机制，允许管理员规定如何共享他们的网络。无论流量、协议或参与者的数量等交通特征如何，Seawall都能发挥作用。Seawall提供了一个简单的抽象：为作为流量源（VM、进程等）的每个本地实体指定一个<em>网络权重</em>，<strong>Seawall确保在所有网络链路上，实体获得的带宽份额与其重量成正比。为了实现效率，Seawall正在节约工作，按比例将未使用的股份重新分配给当前活跃的资源。</strong></p><p>除了通过减轻恶意租户的DoS攻击和推广现有的资源调配模型来提高安全性之外，每个实体的权重还可以更好地控制基础设施服务。数据中心通常将对延迟和吞吐量敏感的任务与后台基础设施服务相结合。例如，客户生成的web流量与VM部署和迁移任务的需求相抗衡。每个实体的权重消除了 hand-craft每个单独服务的需要。</p><p>此外，每个实体的权重还可以<strong>更好地控制应用程序级别的目标</strong>。网络分配决策可能会对端到端指标（如完成时间或吞吐量）产生重大影响。例如，在map reduce集群中，与共享同一瓶颈的map任务相比，具有高扇入的reduce任务可以打开更多的流。基于流的公平性优先考虑高风扇，减少任务，而不是其他任务，导致进程不平衡，导致CPU资源闲置，降低集群吞吐量。相比之下，海堤将网络分配与通信模式分离。</p><p>**Seawall通过将网络共享问题简化为分布式拥塞控制，实现了可伸缩的资源分配。**TCP的普遍性表明，这种算法可以扩展到大量参与者，快速适应变化，并且可以严格在边缘实现。虽然Seawall借鉴了TCP，<strong>但Seawall的体系结构和控制回路确保了对租户不当行为的鲁性</strong>。Seawall在发送方使用一个垫片层，通过强制所有交通进入拥堵控制隧道，强制遵守政策。为了防止租户绕过Seawall，垫片层在虚拟化或平台网络堆栈中运行，在那里它与租户代码很好地隔离。</p><p>简单地对每个目的地实施一个独立的类似TCP的隧道，将允许每个源通过与更多目的地通信来实现更高的速率。由于这无法实现基于每个实体权重的期望策略，因此<strong>Seawall使用了一种新的控制回路，将来自多个目的地的反馈结合起来。</strong></p><p>总的来说，我们做出了三点贡献。首先，我们发现了由于网络资源分配不当而导致的问题和错过的机会。其次，我们详细探讨了为云数据中心构建网络分配机制时的权衡。最后，我们设计并实现了一个对恶意、自私或有缺陷的租户行为具有鲁棒性的体系结构和控制回路。我们已经建造了一个海堤原型，作为Windows NDIS过滤器。通过在一个大型服务器集群中的实验，我们发现Sea  wall实现了网络的比例共享，同时对租户协议和流量模式保持不可知，并能抵御基于UDP和TCP的DoS攻击。Seawall提供了这些好处，同时以较低的CPU开销实现线路速率。</p><a href=#2-problems-with-network-shar-ing-in-datacenters><h1 id=2-problems-with-network-shar-ing-in-datacenters><span class=hanchor arialabel=Anchor># </span>2 PROBLEMS WITH NETWORK SHAR ING IN DATACENTERS</h1></a><p>为了了解现有的网络分配方案的问题，我们研究了两种类型的集群，它们由数千台生产服务器组成。第一类是公共基础设施云服务，它们租用虚拟机以及存储和负载平衡器等其他共享服务。在这些数据中心中，客户端可以提交任意的VM镜像，并选择运行哪些应用程序、与谁通话、发送多少流量、何时发送流量，以及使用什么协议来交换流量（TCP、UDP）。第二种类型是支持map reduce工作负载的平台云服务。考虑支持搜索引擎的地图缩减集群。它用于分析日志，提高查询和广告相关性。尽管该集群在许多用户和业务组之间共享，但执行平台（即作业编译器和运行时）是由数据中心提供商控制的专有代码。</p><p>通过对这些数据中心的案例研究，我们观察了今天网络是如何共享的，这种共享带来的问题以及对改进共享机制的要求。</p><p>在所有数据中心中，服务器都有多个核心、多个磁盘和数十GB的RAM。该网络是一种树状拓扑[26]，机架中有20-40台服务器，机架上游链路上有一个较小的过度订阅因子。</p><a href=#21-performance-interference-in-infrastructure-cloud-services><h2 id=21-performance-interference-in-infrastructure-cloud-services><span class=hanchor arialabel=Anchor># </span>2.1 Performance interference in infrastructure cloud services</h2></a><p>最近的测量表明，网络性能指标存在相当大的差异——EC2中的中等实例的吞吐量可能会变化66%[25,43]。基于轶事证据，我们推测这种变化的主要原因是无法控制虚拟机的网络流量份额。</p><p>与CPU和内存不同，网络使用更难控制，因为它是一种分布式资源。对于考试，考虑 straw man，其中每个虚拟机的网络共享被静态地限制到主机的NIC速率的一部分（相当于分配VM固定数量的内核或静态存储器大小）。一个拥有多个虚拟机的租户可以累计发送足够的流量，使接收器、到该主机的某些网络链路或其他网络瓶颈溢出。最近的一些工作[33]展示了如何将特洛伊木马虚拟机与目标虚拟机共同定位。通过这种方式，恶意租户可以降低目标受害者的网络性能。最后，一个自私的客户端通过使用不同数量的流或更高速率的UDP流，可以占用网络带宽。</p><p>我们注意到，存在缓解这些问题的带外机制。商业云提供商采用了这些机制的组合。首先，提供商可以说明租户（和VM）的网络使用情况，并隔离或禁止不当行为。其次，云提供商可能会对其集群提供更少的可见性，从而使恶意客户端更难与目标VM共同定位。然而，这两种方法都不是傻瓜式的。自私或恶意的流量可以模仿合法的流量，因此很难区分。此外，模糊处理方案可能无法阻止坚定的对手。</p><p>相反，我们的立场是找到问题的根源。
现有解决方案失败的原因是它们主要依赖于TCP流。但虚拟机可以自由选择流量的数量、拥塞控制变量，甚至可以选择它们是否对拥塞做出响应，从而允许少数虚拟机对网络产生不成比例的影响。因此，<strong>我们寻求独立于客户端流量矩阵和实现的其他方式来共享网络。</strong></p><p>三种方式导致翻转噪声，不需要先验条件， 估计混淆矩阵得到真实reward的无偏估计</p><p>与正常MDP多了C，为R的翻转概率矩阵</p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://jieye-ericx.github.io/js/graph.6579af7b10c818dbd2ca038702db0224.js></script></div></div><div id=contact_buttons><footer><p>Made by Jieye ericx using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2023</p><ul><li><a href=https://jieye-ericx.github.io/>Home</a></li><li><a href=https://github.com/jieye-ericx>Github</a></li></ul></footer></div></div></body></html>