<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="第1章：React入门 1.1. React简介 1.1.1. 官网
 英文官网: https://reactjs.org/ 中文官网: https://react.docschina.org/  1.1.2. 介绍描述
 用于动态构建用户界面的 JavaScript 库(只关注于视图) 由Facebook开源  1.1.3. React的特点"><meta property="og:title" content="第1章：React入门"><meta property="og:description" content="第1章：React入门 1.1. React简介 1.1.1. 官网
 英文官网: https://reactjs.org/ 中文官网: https://react.docschina.org/  1.1.2. 介绍描述
 用于动态构建用户界面的 JavaScript 库(只关注于视图) 由Facebook开源  1.1.3. React的特点"><meta property="og:type" content="website"><meta property="og:image" content="https://jieye-ericx.github.io/icon.png"><meta property="og:url" content="https://jieye-ericx.github.io/react/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content="第1章：React入门"><meta name=twitter:description content="第1章：React入门 1.1. React简介 1.1.1. 官网
 英文官网: https://reactjs.org/ 中文官网: https://react.docschina.org/  1.1.2. 介绍描述
 用于动态构建用户界面的 JavaScript 库(只关注于视图) 由Facebook开源  1.1.3. React的特点"><meta name=twitter:image content="https://jieye-ericx.github.io/icon.png"><title>第1章：React入门</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://jieye-ericx.github.io//icon.png><link href=https://jieye-ericx.github.io/styles.80333fa2099c0bee674efa435fde378c.min.css rel=stylesheet><link href=https://jieye-ericx.github.io/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://jieye-ericx.github.io/js/darkmode.48459b7116d092b4e98d2cab704cad80.min.js></script>
<script src=https://jieye-ericx.github.io/js/util.00639692264b21bc3ee219733d38a8be.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/core@1.2.1></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.2.1></script>
<script defer src=https://jieye-ericx.github.io/js/popover.aa9bc99c7c38d3ae9538f218f1416adb.min.js></script>
<script defer src=https://jieye-ericx.github.io/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://jieye-ericx.github.io/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://jieye-ericx.github.io/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://jieye-ericx.github.io/",fetchData=Promise.all([fetch("https://jieye-ericx.github.io/indices/linkIndex.552ddfe66a25bdf39a80a007ced0daf8.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://jieye-ericx.github.io/indices/contentIndex.4b3eea5ce4f0cf6acc66dcfe240d96eb.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://jieye-ericx.github.io",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://jieye-ericx.github.io",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'’':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/jieye-ericx.github.io\/js\/router.d6fe6bd821db9ea97f9aeefae814d8e7.min.js"
    attachSPARouting(init, render)
  </script><script defer data-domain=jieye-ericx.github.io src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://jieye-ericx.github.io/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://jieye-ericx.github.io/>jieye の 数字花园</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>第1章：React入门</h1><p class=meta>Last updated
Jul 21, 2022</p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#11-react简介>1.1. React简介</a></li><li><a href=#12-react的基本使用>1.2. React的基本使用</a><ol><li><a href=#121-效果>1.2.1. 效果</a></li><li><a href=#122-相关js库>1.2.2. 相关js库</a></li><li><a href=#123-创建虚拟dom的两种方式>1.2.3. 创建虚拟DOM的两种方式</a></li><li><a href=#124-虚拟dom与真实dom>1.2.4. 虚拟DOM与真实DOM</a></li></ol></li><li><a href=#13-react-jsx>1.3. React JSX</a><ol><li><a href=#131-效果>1.3.1. 效果</a></li><li><a href=#132-jsx>1.3.2. JSX</a></li><li><a href=#133-渲染虚拟dom元素>1.3.3. 渲染虚拟DOM(元素)</a></li><li><a href=#134-jsx练习>1.3.4. JSX练习</a></li></ol></li><li><a href=#14-模块与组件模块化与组件化的理解>1.4. 模块与组件、模块化与组件化的理解</a><ol><li><a href=#141-模块>1.4.1. 模块</a></li><li><a href=#142-组件>1.4.2. 组件</a></li><li><a href=#143-模块化>1.4.3. 模块化</a></li><li><a href=#144-组件化>1.4.4. 组件化</a></li></ol></li></ol><ol><li><a href=#21-基本理解和使用>2.1. 基本理解和使用</a><ol><li><a href=#211-使用react开发者工具调试>2.1.1. 使用React开发者工具调试</a></li><li><a href=#212-效果>2.1.2. 效果</a></li><li><a href=#213-注意>2.1.3. 注意</a></li><li><a href=#214-渲染类组件标签的基本流程>2.1.4. 渲染类组件标签的基本流程</a></li></ol></li><li><a href=#22-组件三大核心属性1-state>2.2. 组件三大核心属性1: state</a><ol><li><a href=#221-效果>2.2.1. 效果</a></li><li><a href=#222-理解>2.2.2. 理解</a></li><li><a href=#223-强烈注意>2.2.3. 强烈注意</a></li></ol></li><li><a href=#23-组件三大核心属性2-props>2.3. 组件三大核心属性2: props</a><ol><li><a href=#231-效果>2.3.1. 效果</a></li><li><a href=#232-理解>2.3.2. 理解</a></li><li><a href=#233-作用>2.3.3. 作用</a></li><li><a href=#234-编码操作>2.3.4. 编码操作</a></li></ol></li><li><a href=#24-组件三大核心属性3-refs与事件处理>2.4. 组件三大核心属性3: refs与事件处理</a><ol><li><a href=#241-效果>2.4.1. 效果</a></li><li><a href=#242-理解>2.4.2. 理解</a></li><li><a href=#243-编码>2.4.3. 编码</a></li><li><a href=#244-事件处理>2.4.4. 事件处理</a></li></ol></li><li><a href=#25-收集表单数据>2.5. 收集表单数据</a><ol><li><a href=#251-效果>2.5.1. 效果</a></li><li><a href=#252-理解>2.5.2. 理解</a></li></ol></li><li><a href=#26-组件的生命周期>2.6. 组件的生命周期</a><ol><li><a href=#261-效果>2.6.1. 效果</a></li><li><a href=#262-理解>2.6.2. 理解</a></li><li><a href=#263-生命周期流程图旧>2.6.3. 生命周期流程图(旧)</a></li><li><a href=#264-生命周期流程图新>2.6.4. 生命周期流程图(新)</a></li><li><a href=#265-重要的勾子>2.6.5. 重要的勾子</a></li><li><a href=#266-即将废弃的勾子>2.6.6. 即将废弃的勾子</a></li></ol></li><li><a href=#27-虚拟dom与dom-diffing算法>2.7. 虚拟DOM与DOM Diffing算法</a><ol><li><a href=#271-效果>2.7.1. 效果</a></li><li><a href=#272-基本原理图>2.7.2. 基本原理图</a></li></ol></li></ol><ol><li><a href=#31-使用create-react-app创建react应用>3.1. 使用create-react-app创建react应用</a><ol><li><a href=#311-react脚手架>3.1.1. react脚手架</a></li><li><a href=#312-创建项目并启动>3.1.2. 创建项目并启动</a></li><li><a href=#313-react脚手架项目结构>3.1.3. react脚手架项目结构</a></li><li><a href=#314-功能界面的组件化编码流程通用>3.1.4. 功能界面的组件化编码流程（通用）</a></li></ol></li><li><a href=#32-组件的组合使用-todolist>3.2. 组件的组合使用-TodoList</a></li></ol><ol><li><a href=#71-redux理解>7.1. redux理解</a><ol><li><a href=#1求和案例_redux精简版>1.求和案例_redux精简版</a></li><li><a href=#2求和案例_redux完整版>2.求和案例_redux完整版</a></li><li><a href=#3求和案例_redux异步action版>3.求和案例_redux异步action版</a></li><li><a href=#4求和案例_react-redux基本使用>4.求和案例_react-redux基本使用</a></li><li><a href=#5求和案例_react-redux优化>5.求和案例_react-redux优化</a></li><li><a href=#6求和案例_react-redux数据共享版>6.求和案例_react-redux数据共享版</a></li><li><a href=#7求和案例_react-redux开发者工具的使用>7.求和案例_react-redux开发者工具的使用</a></li><li><a href=#8求和案例_react-redux最终版>8.求和案例_react-redux最终版</a></li><li><a href=#711-学习文档>7.1.1. 学习文档</a></li><li><a href=#712-redux是什么>7.1.2. redux是什么</a></li><li><a href=#713-什么情况下需要使用redux>7.1.3. 什么情况下需要使用redux</a></li><li><a href=#714-redux工作流程>7.1.4. redux工作流程</a></li></ol></li><li><a href=#72-redux的三个核心概念>7.2. redux的三个核心概念</a><ol><li><a href=#721-action>7.2.1. action</a></li><li><a href=#722-reducer>7.2.2. reducer</a></li><li><a href=#723-store>7.2.3. store</a></li></ol></li><li><a href=#73-redux的核心api>7.3. redux的核心API</a><ol><li><a href=#731-createstore>7.3.1. createstore()</a></li><li><a href=#732-store对象>7.3.2. store对象</a></li><li><a href=#733-applymiddleware>7.3.3. applyMiddleware()</a></li><li><a href=#734-combinereducers>7.3.4. combineReducers()</a></li></ol></li><li><a href=#74-使用redux编写应用>7.4. 使用redux编写应用</a></li><li><a href=#75-redux异步编程>7.5. redux异步编程</a><ol><li><a href=#751理解>7.5.1理解：</a></li><li><a href=#752-使用异步中间件>7.5.2. 使用异步中间件</a></li></ol></li><li><a href=#76-react-redux>7.6. react-redux</a><ol><li><a href=#761-理解>7.6.1. 理解</a></li><li><a href=#762-react-redux将所有组件分成两大类>7.6.2. react-Redux将所有组件分成两大类</a></li><li><a href=#763-相关api>7.6.3. 相关API</a></li></ol></li><li><a href=#77-使用上redux调试工具>7.7. 使用上redux调试工具</a><ol><li><a href=#771-安装chrome浏览器插件>7.7.1. 安装chrome浏览器插件</a></li><li><a href=#772-下载工具依赖包>7.7.2. 下载工具依赖包</a></li></ol></li><li><a href=#78-纯函数和高阶函数>7.8. 纯函数和高阶函数</a><ol><li><a href=#781-纯函数>7.8.1. 纯函数</a></li><li><a href=#782-高阶函数>7.8.2. 高阶函数</a></li></ol></li></ol><ol><li><a href=#方法一>方法一</a></li><li><a href=#方法二>方法二</a></li></ol><ol><li><a href=#一todolist案例相关知识点>一、todoList案例相关知识点</a></li><li><a href=#二github搜索案例相关知识点>二、github搜索案例相关知识点</a></li><li><a href=#四路由组件与一般组件>四、路由组件与一般组件</a></li><li><a href=#五navlink与封装navlink>五、NavLink与封装NavLink</a></li><li><a href=#六switch的使用>六、Switch的使用</a></li><li><a href=#七解决多级路径刷新页面样式丢失的问题>七、解决多级路径刷新页面样式丢失的问题</a></li><li><a href=#八路由的严格匹配与模糊匹配>八、路由的严格匹配与模糊匹配</a></li><li><a href=#九redirect的使用>九、Redirect的使用</a></li><li><a href=#十嵌套路由>十、嵌套路由</a></li><li><a href=#十二编程式路由导航>十二、编程式路由导航</a></li><li><a href=#十三browserrouter与hashrouter的区别>十三、BrowserRouter与HashRouter的区别</a></li><li><a href=#十四antd的按需引入自定主题>十四、antd的按需引入+自定主题</a></li></ol><ol><li><a href=#1-setstate>1. setState</a><ol><li><a href=#setstate更新状态的2种写法>setState更新状态的2种写法</a></li></ol></li><li><a href=#2-lazyload>2. lazyLoad</a><ol><li><a href=#路由组件的lazyload>路由组件的lazyLoad</a></li></ol></li><li><a href=#4-fragment>4. Fragment</a><ol><li><a href=#使用>使用</a></li><li><a href=#作用>作用</a></li></ol></li><li><a href=#5-context>5. Context</a><ol><li><a href=#理解>理解</a></li><li><a href=#使用-1>使用</a></li><li><a href=#注意>注意</a></li></ol></li><li><a href=#6-组件优化>6. 组件优化</a><ol><li><a href=#component的2个问题>Component的2个问题</a></li><li><a href=#效率高的做法>效率高的做法</a></li><li><a href=#原因>原因</a></li><li><a href=#解决>解决</a></li></ol></li><li><a href=#7-render-props>7. render props</a><ol><li><a href=#如何向组件内部动态传入带内容的结构标签>如何向组件内部动态传入带内容的结构(标签)?</a></li><li><a href=#children-props>children props</a></li><li><a href=#render-props>render props</a></li></ol></li><li><a href=#8-错误边界>8. 错误边界</a><ol><li></li></ol></li><li><a href=#9-组件通信方式总结>9. 组件通信方式总结</a><ol><li></li></ol></li></ol><ol><li><a href=#react-hookhooks是什么>React Hook/Hooks是什么?</a></li><li><a href=#state-hook>State Hook</a></li><li><a href=#effect-hook>Effect Hook</a></li><li><a href=#ref-hook>Ref Hook</a></li></ol><ol><li><a href=#1-简介>1 简介</a></li><li><a href=#2-component>2 Component</a><ol><li><a href=#1-browserrouter>1. <code>&lt;BrowserRouter></code></a></li><li><a href=#2-hashrouter>2. <code>&lt;HashRouter></code></a></li><li><a href=#3-routes-与-route>3. <code>&lt;Routes/> 与 &lt;Route/></code></a></li><li><a href=#4-link>4. <code>&lt;Link></code></a></li><li><a href=#5-navlink>5. <code>&lt;NavLink></code></a></li><li><a href=#6-navigate>6. <code>&lt;Navigate></code></a></li><li><a href=#7-outlet>7. <code>&lt;Outlet></code></a></li></ol></li><li><a href=#3-hooks>3 Hooks</a><ol><li><a href=#1-useroutes>1. useRoutes()</a></li><li><a href=#2-usenavigate>2. useNavigate()</a></li><li><a href=#3-useparams>3. useParams()</a></li><li><a href=#4-usesearchparams>4. useSearchParams()</a></li><li><a href=#5-uselocation>5. useLocation()</a></li><li><a href=#6-usematch>6. useMatch()</a></li><li><a href=#7-useinroutercontext>7. useInRouterContext()</a></li><li><a href=#8-usenavigationtype>8. useNavigationType()</a></li><li><a href=#9-useoutlet>9. useOutlet()</a></li><li><a href=#10useresolvedpath>10.useResolvedPath()</a></li></ol></li></ol></nav></details></aside><a href=#第1章react入门><h1 id=第1章react入门><span class=hanchor arialabel=Anchor># </span>第1章：React入门</h1></a><a href=#11-react简介><h2 id=11-react简介><span class=hanchor arialabel=Anchor># </span>1.1. React简介</h2></a><p>1.1.1. 官网</p><ol><li>英文官网:
<a href=https://reactjs.org/ rel=noopener>https://reactjs.org/</a></li><li>中文官网:
<a href=https://react.docschina.org/ rel=noopener>https://react.docschina.org/</a></li></ol><p>1.1.2. 介绍描述</p><ol><li>用于动态构建用户界面的 JavaScript 库(只关注于视图)</li><li>由Facebook开源</li></ol><p>1.1.3. React的特点</p><ol><li>声明式编码</li><li>组件化编码</li><li>React Native 编写原生应用</li><li>高效（优秀的Diffing算法）</li></ol><p>1.1.4. React高效的原因</p><ol><li>使用虚拟(virtual)DOM, 不总是直接操作页面真实DOM。</li><li>DOM Diffing算法, 最小化页面重绘。</li></ol><a href=#12-react的基本使用><h2 id=12-react的基本使用><span class=hanchor arialabel=Anchor># </span>1.2. React的基本使用</h2></a><a href=#121-效果><h3 id=121-效果><span class=hanchor arialabel=Anchor># </span>1.2.1. 效果</h3></a><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113103850.png width=auto alt=image-20210113103850309></p><a href=#122-相关js库><h3 id=122-相关js库><span class=hanchor arialabel=Anchor># </span>1.2.2. 相关js库</h3></a><ol><li>react.js：React核心库。</li><li>react-dom.js：提供操作DOM的react扩展库。</li><li>babel.min.js：解析JSX语法代码转为JS代码的库。</li></ol><a href=#123-创建虚拟dom的两种方式><h3 id=123-创建虚拟dom的两种方式><span class=hanchor arialabel=Anchor># </span>1.2.3. 创建虚拟DOM的两种方式</h3></a><ol><li>纯JS方式(一般不用)</li><li>JSX方式</li></ol><a href=#124-虚拟dom与真实dom><h3 id=124-虚拟dom与真实dom><span class=hanchor arialabel=Anchor># </span>1.2.4. 虚拟DOM与真实DOM</h3></a><ol><li>React提供了一些API来创建一种 “特别” 的一般js对象</li></ol><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113103942.png width=auto alt=image-20210113103942744></p><p>创建的就是一个简单的虚拟DOM对象</p><ol start=2><li>虚拟DOM对象最终都会被React转换为真实的DOM</li><li>我们编码时基本只需要操作react的虚拟DOM相关数据, react会转换为真实DOM变化而更新界。</li></ol><a href=#13-react-jsx><h2 id=13-react-jsx><span class=hanchor arialabel=Anchor># </span>1.3. React JSX</h2></a><a href=#131-效果><h3 id=131-效果><span class=hanchor arialabel=Anchor># </span>1.3.1. 效果</h3></a><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113104021.png width=auto alt=image-20210113104020994></p><a href=#132-jsx><h3 id=132-jsx><span class=hanchor arialabel=Anchor># </span>1.3.2. JSX</h3></a><ol><li><p>全称: JavaScript XML</p></li><li><p>react定义的一种类似于XML的JS扩展语法: JS + XML本质是
<img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113104045.png width=auto alt=image-20210113104045723>方法的语法糖</p></li><li><p>作用: 用来简化创建虚拟DOM</p><ol><li><p>写法：<code>var ele = &lt;h1>Hello JSX!&lt;/h1></code></p></li><li><p>注意1：它不是字符串, 也不是HTML/XML标签</p></li><li><p>注意2：<strong>它最终产生的就是一个JS对象</strong></p></li></ol></li><li><p>标签名任意: HTML标签或其它标签</p></li><li><p>标签属性任意: HTML标签属性或其它</p></li><li><p>基本语法规则</p><ol><li><p>遇到 &lt;开头的代码, 以标签的语法解析: html同名标签转换为html同名元素, 其它标签需要特别解析</p></li><li><p>遇到以 { 开头的代码，以JS语法解析: 标签中的js表达式必须<strong>用{ }包含</strong></p></li></ol></li><li><p>babel.js的作用</p><ol><li><p>浏览器不能直接解析JSX代码, 需要babel转译为纯JS的代码才能运行</p></li><li><p>只要用了JSX，都要加上type=&ldquo;text/babel&rdquo;, 声明需要babel来处理</p></li></ol></li></ol><a href=#133-渲染虚拟dom元素><h3 id=133-渲染虚拟dom元素><span class=hanchor arialabel=Anchor># </span>1.3.3. 渲染虚拟DOM(元素)</h3></a><ol><li><p>语法: <code>ReactDOM.render(virtualDOM, containerDOM)</code></p></li><li><p>作用: 将虚拟DOM元素渲染到页面中的真实容器DOM中显示</p></li><li><p>参数说明</p><ol><li><p>参数一: 纯js或jsx创建的虚拟dom对象</p></li><li><p>参数二: 用来包含虚拟DOM元素的真实dom元素对象(一般是一个div)</p></li></ol></li></ol><a href=#134-jsx练习><h3 id=134-jsx练习><span class=hanchor arialabel=Anchor># </span>1.3.4. JSX练习</h3></a><p>需求: 动态展示如下列表</p><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113105711.png width=auto alt=image-20210113105711179></p><a href=#14-模块与组件模块化与组件化的理解><h2 id=14-模块与组件模块化与组件化的理解><span class=hanchor arialabel=Anchor># </span>1.4. 模块与组件、模块化与组件化的理解</h2></a><a href=#141-模块><h3 id=141-模块><span class=hanchor arialabel=Anchor># </span>1.4.1. 模块</h3></a><ol><li>理解：向外提供特定功能的js程序, 一般就是一个js文件</li><li>为什么要拆成模块：随着业务逻辑增加，代码越来越多且复杂。</li><li>作用：复用js, 简化js的编写, 提高js运行效率</li></ol><a href=#142-组件><h3 id=142-组件><span class=hanchor arialabel=Anchor># </span>1.4.2. 组件</h3></a><ol><li>理解：用来实现局部功能效果的代码和资源的集合(html/css/js/image等等)</li><li>为什么要用组件： 一个界面的功能更复杂</li><li>作用：复用编码, 简化项目编码, 提高运行效率</li></ol><a href=#143-模块化><h3 id=143-模块化><span class=hanchor arialabel=Anchor># </span>1.4.3. 模块化</h3></a><p>当应用的js都以模块来编写的, 这个应用就是一个模块化的应用</p><a href=#144-组件化><h3 id=144-组件化><span class=hanchor arialabel=Anchor># </span>1.4.4. 组件化</h3></a><p>当应用是以多组件的方式实现, 这个应用就是一个组件化的应用</p><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113105809.png width=auto alt=image-20210113105809103></p><a href=#第2章react面向组件编程><h1 id=第2章react面向组件编程><span class=hanchor arialabel=Anchor># </span>第2章：React面向组件编程</h1></a><a href=#21-基本理解和使用><h2 id=21-基本理解和使用><span class=hanchor arialabel=Anchor># </span>2.1. 基本理解和使用</h2></a><a href=#211-使用react开发者工具调试><h3 id=211-使用react开发者工具调试><span class=hanchor arialabel=Anchor># </span>2.1.1. 使用React开发者工具调试</h3></a><a href=#212-效果><h3 id=212-效果><span class=hanchor arialabel=Anchor># </span>2.1.2. 效果</h3></a><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113105843.png width=auto alt=image-20210113105843606></p><a href=#213-注意><h3 id=213-注意><span class=hanchor arialabel=Anchor># </span>2.1.3. 注意</h3></a><ol><li>组件名必须首字母大写</li><li>虚拟DOM元素只能有一个根元素</li><li>虚拟DOM元素必须有结束标签</li></ol><a href=#214-渲染类组件标签的基本流程><h3 id=214-渲染类组件标签的基本流程><span class=hanchor arialabel=Anchor># </span>2.1.4. 渲染类组件标签的基本流程</h3></a><ol><li>React内部会创建组件实例对象</li><li>调用render()得到虚拟DOM, 并解析为真实DOM</li><li>插入到指定的页面元素内部</li></ol><a href=#22-组件三大核心属性1-state><h2 id=22-组件三大核心属性1-state><span class=hanchor arialabel=Anchor># </span>2.2. 组件三大核心属性1: state</h2></a><a href=#221-效果><h3 id=221-效果><span class=hanchor arialabel=Anchor># </span>2.2.1. 效果</h3></a><p><em>需求:</em> 定义一个展示天气信息的组件</p><p><em>1.</em> <em>默认展示天气炎热</em> <em>或</em> <em>凉爽</em></p><p><em>2.</em> <em>点击文字切换天气</em></p><a href=#222-理解><h3 id=222-理解><span class=hanchor arialabel=Anchor># </span>2.2.2. 理解</h3></a><ol><li>state是组件对象最重要的属性, 值是对象(可以包含多个key-value的组合)</li><li>组件被称为"状态机", 通过更新组件的state来更新对应的页面显示(重新渲染组件)</li></ol><a href=#223-强烈注意><h3 id=223-强烈注意><span class=hanchor arialabel=Anchor># </span>2.2.3. 强烈注意</h3></a><ol><li><p>组件中render方法中的this为组件实例对象</p></li><li><p>组件自定义的方法中this为undefined，如何解决？</p><p>a) 强制绑定this: 通过函数对象的bind()</p><p>b) 箭头函数</p></li><li><p>状态数据，不能直接修改或更新</p></li></ol><a href=#23-组件三大核心属性2-props><h2 id=23-组件三大核心属性2-props><span class=hanchor arialabel=Anchor># </span>2.3. 组件三大核心属性2: props</h2></a><a href=#231-效果><h3 id=231-效果><span class=hanchor arialabel=Anchor># </span>2.3.1. 效果</h3></a><p><em>需求:</em> <em>自定义用来显示一个人员信息的组件</em></p><p><em>1.</em> <em>姓名必须指定，且为字符串类型；</em></p><p><em>2.</em> <em>性别为字符串类型，如果性别没有指定，默认为男</em></p><p><em>3.</em> <em>年龄为字符串类型，且为数字类型，默认值为**18</em></p><a href=#232-理解><h3 id=232-理解><span class=hanchor arialabel=Anchor># </span>2.3.2. 理解</h3></a><ol><li>每个组件对象都会有props(properties的简写)属性</li><li>组件标签的所有属性都保存在props中</li></ol><a href=#233-作用><h3 id=233-作用><span class=hanchor arialabel=Anchor># </span>2.3.3. 作用</h3></a><ol><li>通过标签属性从组件外向组件内传递变化的数据</li><li>注意: <strong>组件内部不要修改props数据</strong></li></ol><a href=#234-编码操作><h3 id=234-编码操作><span class=hanchor arialabel=Anchor># </span>2.3.4. 编码操作</h3></a><ol><li>内部读取某个属性值</li></ol><p>​ <strong>this</strong>.<strong>props</strong>.<strong>name</strong></p><ol start=2><li><p>对props中的属性值进行类型限制和必要性限制</p><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113112413.png width=auto alt=image-20210113112413459></p></li><li><p>扩展属性: 将对象的所有属性通过props传递</p></li></ol><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113112430.png width=auto alt=image-20210113112430463></p><ol start=4><li>默认属性值：</li></ol><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113112443.png width=auto alt=image-20210113112443390></p><ol start=5><li>组件类的构造函数</li></ol><a href=#24-组件三大核心属性3-refs与事件处理><h2 id=24-组件三大核心属性3-refs与事件处理><span class=hanchor arialabel=Anchor># </span>2.4. 组件三大核心属性3: refs与事件处理</h2></a><a href=#241-效果><h3 id=241-效果><span class=hanchor arialabel=Anchor># </span>2.4.1. 效果</h3></a><p><em>需求:</em> <em>自定义组件,</em> <em>功能说明如下:</em></p><p><em>1.</em> <em>点击按钮,</em> <em>提示第一个输入框中的值</em></p><p><em>2.</em> <em>当第<strong>2</strong>个输入框失去焦点时,</em> <em>提示这个输入框中的值</em></p><a href=#242-理解><h3 id=242-理解><span class=hanchor arialabel=Anchor># </span>2.4.2. 理解</h3></a><p>组件内的标签可以定义ref属性来标识自己</p><a href=#243-编码><h3 id=243-编码><span class=hanchor arialabel=Anchor># </span>2.4.3. 编码</h3></a><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113112907.png width=auto alt=image-20210113112907110></p><a href=#244-事件处理><h3 id=244-事件处理><span class=hanchor arialabel=Anchor># </span>2.4.4. 事件处理</h3></a><ol><li><p>通过onXxx属性指定事件处理函数(注意大小写)</p><ol><li><p>React使用的是自定义(合成)事件, 而不是使用的原生DOM事件</p></li><li><p>React中的事件是通过事件委托方式处理的(委托给组件最外层的元素)</p></li></ol></li><li><p>通过event.target得到发生事件的DOM元素对象</p></li></ol><a href=#25-收集表单数据><h2 id=25-收集表单数据><span class=hanchor arialabel=Anchor># </span>2.5. 收集表单数据</h2></a><a href=#251-效果><h3 id=251-效果><span class=hanchor arialabel=Anchor># </span>2.5.1. 效果</h3></a><p><em>需求:</em> <em>定义一个包含表单的组件</em></p><p><em>输入用户名密码后,</em> <em>点击登录提示输入信息</em></p><a href=#252-理解><h3 id=252-理解><span class=hanchor arialabel=Anchor># </span>2.5.2. 理解</h3></a><p>包含表单的组件分类</p><ol><li><p>受控组件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Login</span> <span class=kr>extends</span> <span class=nx>React</span><span class=p>.</span><span class=nx>Component</span><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=c1>//初始化状态
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=nx>state</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=nx>username</span><span class=o>:</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=c1>//用户名
</span></span></span><span class=line><span class=cl><span class=c1></span>				<span class=nx>password</span><span class=o>:</span><span class=s1>&#39;&#39;</span> <span class=c1>//密码
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=c1>//保存用户名到状态中
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=nx>saveUsername</span> <span class=o>=</span> <span class=p>(</span><span class=nx>event</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>				<span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span><span class=nx>username</span><span class=o>:</span><span class=nx>event</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>})</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=c1>//保存密码到状态中
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=nx>savePassword</span> <span class=o>=</span> <span class=p>(</span><span class=nx>event</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>				<span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>({</span><span class=nx>password</span><span class=o>:</span><span class=nx>event</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>})</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=c1>//表单提交的回调
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=nx>handleSubmit</span> <span class=o>=</span> <span class=p>(</span><span class=nx>event</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>				<span class=nx>event</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>()</span> <span class=c1>//阻止表单提交
</span></span></span><span class=line><span class=cl><span class=c1></span>				<span class=kr>const</span> <span class=p>{</span><span class=nx>username</span><span class=p>,</span><span class=nx>password</span><span class=p>}</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span>
</span></span><span class=line><span class=cl>				<span class=nx>alert</span><span class=p>(</span><span class=sb>`你输入的用户名是：</span><span class=si>${</span><span class=nx>username</span><span class=si>}</span><span class=sb>,你输入的密码是：</span><span class=si>${</span><span class=nx>password</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=nx>render</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>				<span class=k>return</span><span class=p>(</span>
</span></span><span class=line><span class=cl>					<span class=o>&lt;</span><span class=nx>form</span> <span class=nx>onSubmit</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleSubmit</span><span class=p>}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>						<span class=nx>用户名</span><span class=err>：</span><span class=o>&lt;</span><span class=nx>input</span> <span class=nx>onChange</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>saveUsername</span><span class=p>}</span> <span class=nx>type</span><span class=o>=</span><span class=s2>&#34;text&#34;</span> <span class=nx>name</span><span class=o>=</span><span class=s2>&#34;username&#34;</span><span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>						<span class=nx>密码</span><span class=err>：</span><span class=o>&lt;</span><span class=nx>input</span> <span class=nx>onChange</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>savePassword</span><span class=p>}</span> <span class=nx>type</span><span class=o>=</span><span class=s2>&#34;password&#34;</span> <span class=nx>name</span><span class=o>=</span><span class=s2>&#34;password&#34;</span><span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>						<span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>登录</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
</span></span><span class=line><span class=cl>					<span class=o>&lt;</span><span class=err>/form&gt;</span>
</span></span><span class=line><span class=cl>				<span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>非受控组件</p></li></ol><a href=#26-组件的生命周期><h2 id=26-组件的生命周期><span class=hanchor arialabel=Anchor># </span>2.6. 组件的生命周期</h2></a><a href=#261-效果><h3 id=261-效果><span class=hanchor arialabel=Anchor># </span>2.6.1. 效果</h3></a><p><em>需求</em>*:*<em>定义组件实现以下功能：</em></p><p><em>1.</em> <em>让指定的文本做显示</em> <em>/</em> <em>隐藏的渐变动画</em></p><p><em>2.</em> <em>从完全可见，到彻底消失，耗时**2S</em></p><p><em>3.</em> <em>点击“不活了”按钮从界面中卸载组件</em></p><a href=#262-理解><h3 id=262-理解><span class=hanchor arialabel=Anchor># </span>2.6.2. 理解</h3></a><ol><li>组件从创建到死亡它会经历一些特定的阶段。</li><li>React组件中包含一系列勾子函数(生命周期回调函数), 会在特定的时刻调用。</li><li>我们在定义组件时，会在特定的生命周期回调函数中，做特定的工作。</li></ol><a href=#263-生命周期流程图旧><h3 id=263-生命周期流程图旧><span class=hanchor arialabel=Anchor># </span>2.6.3. 生命周期流程图(旧)</h3></a><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113113031.png width=auto alt=image-20210113113031023></p><p>生命周期的三个阶段（旧）</p><p><strong>1.</strong> <strong>初始化阶段:</strong> 由ReactDOM.render()触发&mdash;初次渲染</p><ol><li>constructor()</li><li>componentWillMount()</li><li>render()</li><li>componentDidMount()</li></ol><p><strong>2.</strong> <strong>更新阶段:</strong> 由组件内部this.setSate()或父组件重新render触发</p><ol><li>shouldComponentUpdate()</li><li>componentWillUpdate()</li><li>render()</li><li>componentDidUpdate()</li></ol><p><strong>3.</strong> <strong>卸载组件:</strong> 由ReactDOM.unmountComponentAtNode()触发</p><ol><li>componentWillUnmount()</li></ol><a href=#264-生命周期流程图新><h3 id=264-生命周期流程图新><span class=hanchor arialabel=Anchor># </span>2.6.4. 生命周期流程图(新)</h3></a><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113113130.png width=auto alt=image-20210113113130146></p><p>生命周期的三个阶段（新）</p><p><strong>1.</strong> <strong>初始化阶段:</strong> 由ReactDOM.render()触发&mdash;初次渲染</p><ol><li>constructor()</li></ol><p><strong>2.</strong> <strong>getDerivedStateFromProps</strong></p><ol start=3><li>render()</li><li>componentDidMount()</li></ol><p><strong>2.</strong> <strong>更新阶段:</strong> 由组件内部this.setSate()或父组件重新render触发</p><ol><li><strong>getDerivedStateFromProps</strong></li><li>shouldComponentUpdate()</li><li>render()</li><li><strong>getSnapshotBeforeUpdate</strong></li><li>componentDidUpdate()</li></ol><p><strong>3.</strong> <strong>卸载组件:</strong> 由ReactDOM.unmountComponentAtNode()触发</p><ol><li>componentWillUnmount()</li></ol><a href=#265-重要的勾子><h3 id=265-重要的勾子><span class=hanchor arialabel=Anchor># </span>2.6.5. 重要的勾子</h3></a><ol><li>render：初始化渲染或更新渲染调用</li><li>componentDidMount：<strong>开启监听, 发送ajax请求</strong></li><li>componentWillUnmount：做一些收尾工作, 如: 清理定时器</li></ol><a href=#266-即将废弃的勾子><h3 id=266-即将废弃的勾子><span class=hanchor arialabel=Anchor># </span>2.6.6. 即将废弃的勾子</h3></a><ol><li>componentWillMount</li><li>componentWillReceiveProps</li><li>componentWillUpdate</li></ol><p>现在使用会出现警告，下一个大版本需要加上UNSAFE_前缀才能使用，以后可能会被彻底废弃，不建议使用。</p><a href=#27-虚拟dom与dom-diffing算法><h2 id=27-虚拟dom与dom-diffing算法><span class=hanchor arialabel=Anchor># </span>2.7. 虚拟DOM与DOM Diffing算法</h2></a><a href=#271-效果><h3 id=271-效果><span class=hanchor arialabel=Anchor># </span>2.7.1. 效果</h3></a><p>需求：验证虚拟<strong>DOM Diffing</strong>算法的存在</p><a href=#272-基本原理图><h3 id=272-基本原理图><span class=hanchor arialabel=Anchor># </span>2.7.2. 基本原理图</h3></a><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113114017.png width=auto alt=image-20210113114017515></p><a href=#第3章react应用基于react脚手架><h1 id=第3章react应用基于react脚手架><span class=hanchor arialabel=Anchor># </span>第3章：React应用(基于React脚手架)</h1></a><a href=#31-使用create-react-app创建react应用><h2 id=31-使用create-react-app创建react应用><span class=hanchor arialabel=Anchor># </span>3.1. 使用create-react-app创建react应用</h2></a><a href=#311-react脚手架><h3 id=311-react脚手架><span class=hanchor arialabel=Anchor># </span>3.1.1. react脚手架</h3></a><ol><li>xxx脚手架: 用来帮助程序员快速创建一个基于xxx库的模板项目</li><li>包含了所有需要的配置（语法检查、jsx编译、devServer…）</li><li>下载好了所有相关的依赖</li><li>可以直接运行一个简单效果</li><li>react提供了一个用于创建react项目的脚手架库: create-react-app</li><li>项目的整体技术架构为: react + webpack + es6 + eslint</li><li>使用脚手架开发的项目的特点: 模块化, 组件化, 工程化</li></ol><a href=#312-创建项目并启动><h3 id=312-创建项目并启动><span class=hanchor arialabel=Anchor># </span>3.1.2. 创建项目并启动</h3></a><p>​ <strong>第一步</strong>，全局安装：<code>npm i -g create-react-app</code></p><p>​ <strong>第二步</strong>，切换到想创项目的目录，使用命令：<code>create-react-app hello-react</code></p><p>​ <strong>第三步</strong>，进入项目文件夹：<code>cd hello-react</code></p><p>​ <strong>第四步</strong>，启动项目：<code>npm start</code></p><a href=#313-react脚手架项目结构><h3 id=313-react脚手架项目结构><span class=hanchor arialabel=Anchor># </span>3.1.3. react脚手架项目结构</h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>public ---- 静态资源文件夹
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            favicon.icon ------ 网站页签图标
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            index.html --------** **主页面
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            logo192.png ------- logo图
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            logo512.png ------- logo图
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            manifest.json ----- 应用加壳的配置文件
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            robots.txt -------- 爬虫协议文件
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>src ---- 源码文件夹
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            App.css -------- App组件的样式
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            App.js --------- App组件
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            App.test.js ---- 用于给App做测试
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            index.css ------ 样式
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            index.js -------入口文件
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            logo.svg ------- logo图
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            reportWebVitals.js
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​                    --- 页面性能分析文件(需要web-vitals库的支持)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​            setupTests.js
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>​                    ---- 组件单元测试的文件(需要jest-dom库的支持)
</span></span></code></pre></td></tr></table></div></div><a href=#314-功能界面的组件化编码流程通用><h3 id=314-功能界面的组件化编码流程通用><span class=hanchor arialabel=Anchor># </span>3.1.4. 功能界面的组件化编码流程（通用）</h3></a><ol><li><p>拆分组件: 拆分界面,抽取组件</p></li><li><p>实现静态组件: 使用组件实现静态页面效果</p></li><li><p>实现动态组件</p><p>​ 3.1 动态显示初始化数据</p><p>​ 3.1.1 数据类型</p><p>​ 3.1.2 数据名称</p><p>​ 3.1.2 保存在哪个组件?</p><p>3.2 交互(从绑定事件监听开始)</p></li></ol><a href=#32-组件的组合使用-todolist><h2 id=32-组件的组合使用-todolist><span class=hanchor arialabel=Anchor># </span>3.2. 组件的组合使用-TodoList</h2></a><p><em>功能:</em> <em>组件化实现此功能</em></p><p><em>1.</em> <em>显示所有<strong>todo</strong>列表</em></p><p><em>2.</em> <em>输入文本,</em> <em>点击按钮显示到列表的首位,</em> <em>并清除输入的文本</em></p><a href=#第7章redux><h1 id=第7章redux><span class=hanchor arialabel=Anchor># </span>第7章：redux</h1></a><a href=#71-redux理解><h2 id=71-redux理解><span class=hanchor arialabel=Anchor># </span>7.1. redux理解</h2></a><a href=#1求和案例_redux精简版><h3 id=1求和案例_redux精简版><span class=hanchor arialabel=Anchor># </span>1.求和案例_redux精简版</h3></a><ol><li>去除Count组件自身的状态</li><li>src下建立:</li></ol><p>​ -redux</p><p>​ -store.js</p><p>​ -count_reducer.js</p><ol start=3><li>store.js：</li></ol><p>​ 1.引入redux中的createStore函数，创建一个store</p><p>​ 2.createStore调用时要传入一个为其服务的reducer</p><p>​ 3.记得暴露store对象</p><ol start=4><li>count_reducer.js：</li></ol><p>​ 1. reducer的本质是一个函数，接收：preState,action，返回加工后的状态</p><p>​ 2. reducer有两个作用：初始化状态，加工状态</p><p>​ 3. reducer被第一次调用时，是store自动触发的，</p><p>​ 传递的preState是undefined,</p><p>​ 传递的action是:{type:&rsquo;@@REDUX/INIT_a.2.b.4}</p><ol start=5><li>在index.js中监测store中状态的改变，一旦发生改变重新渲染<app></li></ol><p>​ 备注：redux只负责管理状态，至于状态的改变驱动着页面的展示，要靠我们自己写。</p><a href=#2求和案例_redux完整版><h3 id=2求和案例_redux完整版><span class=hanchor arialabel=Anchor># </span>2.求和案例_redux完整版</h3></a><p>新增文件：</p><ol><li>count_action.js 专门用于创建action对象</li><li>constant.js 放置容易写错的type值</li></ol><a href=#3求和案例_redux异步action版><h3 id=3求和案例_redux异步action版><span class=hanchor arialabel=Anchor># </span>3.求和案例_redux异步action版</h3></a><ol><li>明确：延迟的动作不想交给组件自身，想交给action</li><li>何时需要异步action：想要对状态进行操作，但是具体的数据靠异步任务返回。</li><li>具体编码：</li></ol><p>​ 1. yarn add redux-thunk，并配置在store中</p><p>​ 2. 创建action的函数不再返回一般对象，而是一个函数，该函数中写异步任务。</p><p>​ 3. 异步任务有结果后，分发一个同步的action去真正操作数据。</p><ol start=4><li>备注：异步action不是必须要写的，完全可以自己等待异步任务的结果了再去分发同步action。</li></ol><a href=#4求和案例_react-redux基本使用><h3 id=4求和案例_react-redux基本使用><span class=hanchor arialabel=Anchor># </span>4.求和案例_react-redux基本使用</h3></a><ol><li>明确两个概念：</li></ol><p>​ 1.UI组件:不能使用任何redux的api，只负责页面的呈现、交互等。</p><p>​ 2.容器组件：负责和redux通信，将结果交给UI组件。</p><ol start=2><li>如何创建一个容器组件————靠react-redux 的 connect函数</li></ol><p>​ connectmapStateToProps,mapDispatchToPropsUI组件</p><p>​ -mapStateToProps:映射状态，返回值是一个对象</p><p>​ -mapDispatchToProps:映射操作状态的方法，返回值是一个对象</p><ol start=3><li>备注1：容器组件中的store是靠props传进去的，而不是在容器组件中直接引入</li><li>备注2：mapDispatchToProps，也可以是一个对象</li></ol><a href=#5求和案例_react-redux优化><h3 id=5求和案例_react-redux优化><span class=hanchor arialabel=Anchor># </span>5.求和案例_react-redux优化</h3></a><ol><li>容器组件和UI组件整合一个文件</li><li>无需自己给容器组件传递store，给<app>包裹一个<provider store={store}>即可。</li><li>使用了react-redux后也不用再自己检测redux中状态的改变了，容器组件可以自动完成这个工作。</li><li>mapDispatchToProps也可以简单的写成一个对象</li><li>一个组件要和redux“打交道”要经过哪几步？</li></ol><p>​ 1. 定义好UI组件&mdash;不暴露</p><p>​ 2. 引入connect生成一个容器组件，并暴露，写法如下：</p><p>​ connect</p><p>​ state => {key:value}, //映射状态</p><p>​ {key:xxxxxAction} //映射操作状态的方法</p><p>​ UI组件</p><p>​ 4. 在UI组件中通过this.props.xxxxxxx读取和操作状态</p><a href=#6求和案例_react-redux数据共享版><h3 id=6求和案例_react-redux数据共享版><span class=hanchor arialabel=Anchor># </span>6.求和案例_react-redux数据共享版</h3></a><ol><li>定义一个Pserson组件，和Count组件通过redux共享数据。</li><li>为Person组件编写：reducer、action，配置constant常量。</li><li>重点：Person的reducer和Count的Reducer要使用combineReducers进行合并，</li></ol><p>​ 合并后的总状态是一个对象！！！</p><ol start=4><li>交给store的是总reducer，最后注意在组件中取出状态的时候，记得“取到位”。</li></ol><a href=#7求和案例_react-redux开发者工具的使用><h3 id=7求和案例_react-redux开发者工具的使用><span class=hanchor arialabel=Anchor># </span>7.求和案例_react-redux开发者工具的使用</h3></a><ol><li>yarn add redux-devtools-extension</li><li>store中进行配置</li></ol><p>​ import {composeWithDevTools} from &lsquo;redux-devtools-extension&rsquo;</p><p>​ const store = createStoreallReducer,composeWithDevToolsapplyMiddlewarethunk</p><a href=#8求和案例_react-redux最终版><h3 id=8求和案例_react-redux最终版><span class=hanchor arialabel=Anchor># </span>8.求和案例_react-redux最终版</h3></a><ol><li>所有变量名字要规范，尽量触发对象的简写形式。</li><li>reducers文件夹中，编写index.js专门用于汇总并暴露所有的reducer</li></ol><a href=#711-学习文档><h3 id=711-学习文档><span class=hanchor arialabel=Anchor># </span>7.1.1. 学习文档</h3></a><ol><li>英文文档:
<a href=https://redux.js.org/ rel=noopener>https://redux.js.org/</a></li><li>中文文档:
<a href=http://www.redux.org.cn/ rel=noopener>http://www.redux.org.cn/</a></li><li>Github:
<a href=https://github.com/reactjs/redux rel=noopener>https://github.com/reactjs/redux</a></li></ol><a href=#712-redux是什么><h3 id=712-redux是什么><span class=hanchor arialabel=Anchor># </span>7.1.2. redux是什么</h3></a><ol><li>redux是一个专门用于做<strong>状态管理</strong>的JS库(不是react插件库)。</li><li>它可以用在react, angular, vue等项目中, 但基本与react配合使用。</li><li>作用: 集中式管理react应用中多个组件<strong>共享</strong>的状态。</li></ol><a href=#713-什么情况下需要使用redux><h3 id=713-什么情况下需要使用redux><span class=hanchor arialabel=Anchor># </span>7.1.3. 什么情况下需要使用redux</h3></a><ol><li>某个组件的状态，需要让其他组件可以随时拿到（共享）。</li><li>一个组件需要改变另一个组件的状态（通信）。</li><li>总体原则：能不用就不用, 如果不用比较吃力才考虑使用。</li></ol><a href=#714-redux工作流程><h3 id=714-redux工作流程><span class=hanchor arialabel=Anchor># </span>7.1.4. redux工作流程</h3></a><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113121422.png width=auto alt=image-20210113121422231></p><a href=#72-redux的三个核心概念><h2 id=72-redux的三个核心概念><span class=hanchor arialabel=Anchor># </span>7.2. redux的三个核心概念</h2></a><a href=#721-action><h3 id=721-action><span class=hanchor arialabel=Anchor># </span>7.2.1. action</h3></a><ol><li>动作的对象</li><li>包含2个属性</li></ol><ul><li>type：标识属性, 值为字符串, 唯一, 必要属性</li><li>data：数据属性, 值类型任意, 可选属性</li></ul><ol start=3><li>例子：{ type: &lsquo;ADD_STUDENT&rsquo;,data:{name: &rsquo;tom&rsquo;,age:18} }</li></ol><a href=#722-reducer><h3 id=722-reducer><span class=hanchor arialabel=Anchor># </span>7.2.2. reducer</h3></a><ol><li>用于初始化状态、加工状态。</li><li>加工时，根据旧的state和action， 产生新的state的<strong>纯函数</strong>.</li></ol><a href=#723-store><h3 id=723-store><span class=hanchor arialabel=Anchor># </span>7.2.3. store</h3></a><ol><li><p>将state、action、reducer联系在一起的对象</p></li><li><p>如何得到此对象?</p><ol><li><p>import {createStore} from &lsquo;redux&rsquo;</p></li><li><p>import reducer from &lsquo;./reducers&rsquo;</p></li><li><p>const store = createStore(reducer)</p></li></ol></li><li><p>此对象的功能?</p><ol><li><p>getState(): 得到state</p></li><li><p>dispatch(action): 分发action, 触发reducer调用, 产生新的state</p></li><li><p>subscribe(listener): 注册监听, 当产生了新的state时, 自动调用</p></li></ol></li></ol><a href=#73-redux的核心api><h2 id=73-redux的核心api><span class=hanchor arialabel=Anchor># </span>7.3. redux的核心API</h2></a><a href=#731-createstore><h3 id=731-createstore><span class=hanchor arialabel=Anchor># </span>7.3.1. createstore()</h3></a><p>作用：创建包含指定reducer的store对象</p><a href=#732-store对象><h3 id=732-store对象><span class=hanchor arialabel=Anchor># </span>7.3.2. store对象</h3></a><ol><li><p>作用: redux库最核心的管理对象</p></li><li><p>它内部维护着:</p><ol><li><p>state</p></li><li><p>reducer</p></li></ol></li><li><p>核心方法:</p><ol><li><p>getState()</p></li><li><p>dispatch(action)</p></li><li><p>subscribe(listener)</p></li></ol></li><li><p>具体编码:</p><ol><li><p>store.getState()</p></li><li><p>store.dispatch({type:&lsquo;INCREMENT&rsquo;, number})</p></li><li><p>store.subscribe(render)</p></li></ol></li></ol><a href=#733-applymiddleware><h3 id=733-applymiddleware><span class=hanchor arialabel=Anchor># </span>7.3.3. applyMiddleware()</h3></a><p>作用：应用上基于redux的中间件(插件库)</p><a href=#734-combinereducers><h3 id=734-combinereducers><span class=hanchor arialabel=Anchor># </span>7.3.4. combineReducers()</h3></a><p>作用：合并多个reducer函数</p><a href=#74-使用redux编写应用><h2 id=74-使用redux编写应用><span class=hanchor arialabel=Anchor># </span>7.4. 使用redux编写应用</h2></a><a href=#75-redux异步编程><h2 id=75-redux异步编程><span class=hanchor arialabel=Anchor># </span>7.5. redux异步编程</h2></a><a href=#751理解><h3 id=751理解><span class=hanchor arialabel=Anchor># </span>7.5.1理解：</h3></a><ol><li>redux默认是不能进行异步处理的,</li><li>某些时候应用中需要在<strong>redux****中执行异步任务</strong>(ajax, 定时器)</li></ol><a href=#752-使用异步中间件><h3 id=752-使用异步中间件><span class=hanchor arialabel=Anchor># </span>7.5.2. 使用异步中间件</h3></a><p>npm install &ndash;save redux-thunk</p><a href=#76-react-redux><h2 id=76-react-redux><span class=hanchor arialabel=Anchor># </span>7.6. react-redux</h2></a><a href=#761-理解><h3 id=761-理解><span class=hanchor arialabel=Anchor># </span>7.6.1. 理解</h3></a><ol><li>一个react插件库</li><li>专门用来简化react应用中使用redux</li></ol><a href=#762-react-redux将所有组件分成两大类><h3 id=762-react-redux将所有组件分成两大类><span class=hanchor arialabel=Anchor># </span>7.6.2. react-Redux将所有组件分成两大类</h3></a><ol><li><p>UI组件</p><ol><li><p>只负责 UI 的呈现，不带有任何业务逻辑</p></li><li><p>通过props接收数据(一般数据和函数)</p></li><li><p>不使用任何 Redux 的 API</p></li><li><p>一般保存在components文件夹下</p></li></ol></li><li><p>容器组件</p><ol><li><p>负责管理数据和业务逻辑，不负责UI的呈现</p></li><li><p>使用 Redux 的 API</p></li><li><p>一般保存在containers文件夹下</p></li></ol></li></ol><a href=#763-相关api><h3 id=763-相关api><span class=hanchor arialabel=Anchor># </span>7.6.3. 相关API</h3></a><ol><li>Provider：让所有组件都可以得到state数据</li></ol><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113121631.png width=auto alt=image-20210113121631846></p><ol start=2><li>connect：用于包装 UI 组件生成容器组件</li></ol><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113121655.png width=auto alt=image-20210113121655155></p><ol start=3><li>mapStateToprops：将外部的数据（即state对象）转换为UI组件的标签属性</li></ol><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113121705.png width=auto alt=image-20210113121704856></p><ol start=4><li>mapDispatchToProps：将分发action的函数转换为UI组件的标签属性</li></ol><a href=#77-使用上redux调试工具><h2 id=77-使用上redux调试工具><span class=hanchor arialabel=Anchor># </span>7.7. 使用上redux调试工具</h2></a><a href=#771-安装chrome浏览器插件><h3 id=771-安装chrome浏览器插件><span class=hanchor arialabel=Anchor># </span>7.7.1. 安装chrome浏览器插件</h3></a><p><img src=https://cdn.jsdelivr.net/gh/radoapx/rax-picbed/PicGo/blogs/react20210113121721.png width=auto alt=image-20210113121721787></p><a href=#772-下载工具依赖包><h3 id=772-下载工具依赖包><span class=hanchor arialabel=Anchor># </span>7.7.2. 下载工具依赖包</h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>npm install --save-dev redux-devtools-extension
</span></span></code></pre></td></tr></table></div></div><a href=#78-纯函数和高阶函数><h2 id=78-纯函数和高阶函数><span class=hanchor arialabel=Anchor># </span>7.8. 纯函数和高阶函数</h2></a><a href=#781-纯函数><h3 id=781-纯函数><span class=hanchor arialabel=Anchor># </span>7.8.1. 纯函数</h3></a><ol><li><p>一类特别的函数: 只要是同样的输入(实参)，必定得到同样的输出(返回)</p></li><li><p>必须遵守以下一些约束</p><ol><li><p>不得改写参数数据</p></li><li><p>不会产生任何副作用，例如网络请求，输入和输出设备</p></li><li><p>不能调用Date.now()或者Math.random()等不纯的方法</p></li></ol></li><li><p>redux的reducer函数必须是一个纯函数</p></li></ol><a href=#782-高阶函数><h3 id=782-高阶函数><span class=hanchor arialabel=Anchor># </span>7.8.2. 高阶函数</h3></a><ol><li><p>理解: 一类特别的函数</p><ol><li><p>情况1: 参数是函数</p></li><li><p>情况2: 返回是函数</p></li></ol></li><li><p>常见的高阶函数:</p><ol><li><p>定时器设置函数</p></li><li><p>数组的forEach()/map()/filter()/reduce()/find()/bind()</p></li><li><p>promise</p></li><li><p>react-redux中的connect函数</p></li></ol></li><li><p>作用: 能实现更加动态, 更加可扩展的功能</p></li></ol><a href=#脚手架配置代理总结><h1 id=脚手架配置代理总结><span class=hanchor arialabel=Anchor># </span>脚手架配置代理总结</h1></a><a href=#方法一><h2 id=方法一><span class=hanchor arialabel=Anchor># </span>方法一</h2></a><p>在package.json中追加如下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;proxy&#34;</span><span class=err>:</span><span class=s2>&#34;http://localhost:5000&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>说明：</p><ol><li>优点：配置简单，前端请求资源时可以不加任何前缀。</li><li>缺点：不能配置多个代理。</li><li>工作方式：上述方式配置代理，当请求了3000不存在的资源时，那么该请求会转发给5000 （优先匹配前端资源）</li></ol><a href=#方法二><h2 id=方法二><span class=hanchor arialabel=Anchor># </span>方法二</h2></a><ol><li>第一步：创建代理配置文件</li></ol><p>在src下创建配置文件：src/setupProxy.js</p><ol start=2><li>编写setupProxy.js配置具体代理规则：</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>proxy</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;http-proxy-middleware&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>   
</span></span><span class=line><span class=cl>   <span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>app</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span>
</span></span><span class=line><span class=cl>       <span class=nx>proxy</span><span class=p>(</span><span class=s1>&#39;/api1&#39;</span><span class=p>,</span> <span class=p>{</span>  <span class=c1>//api1是需要转发的请求(所有带有/api1前缀的请求都会转发给5000)
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://localhost:5000&#39;</span><span class=p>,</span> <span class=c1>//配置转发目标地址(能返回数据的服务器地址)
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=c1>//控制服务器接收到的请求头中host字段的值
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>         	changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000
</span></span></span><span class=line><span class=cl><span class=cm>         	changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:3000
</span></span></span><span class=line><span class=cl><span class=cm>         	changeOrigin默认值为false，但我们一般将changeOrigin值设为true
</span></span></span><span class=line><span class=cl><span class=cm>         */</span>
</span></span><span class=line><span class=cl>         <span class=nx>pathRewrite</span><span class=o>:</span> <span class=p>{</span><span class=s1>&#39;^/api1&#39;</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>}</span> <span class=c1>//去除请求前缀，保证交给后台服务器的是正常请求地址(必须配置)
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=p>}),</span>
</span></span><span class=line><span class=cl>       <span class=nx>proxy</span><span class=p>(</span><span class=s1>&#39;/api2&#39;</span><span class=p>,</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>         <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://localhost:5001&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>         <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>         <span class=nx>pathRewrite</span><span class=o>:</span> <span class=p>{</span><span class=s1>&#39;^/api2&#39;</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>       <span class=p>})</span>
</span></span><span class=line><span class=cl>     <span class=p>)</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>说明：</p><ol><li>优点：可以配置多个代理，可以灵活的控制请求是否走代理。</li><li>缺点：配置繁琐，前端请求资源时必须加前缀。</li></ol><a href=#注意点><h1 id=注意点><span class=hanchor arialabel=Anchor># </span>注意点</h1></a><a href=#一todolist案例相关知识点><h2 id=一todolist案例相关知识点><span class=hanchor arialabel=Anchor># </span>一、todoList案例相关知识点</h2></a><p>1.拆分组件、实现静态组件，注意：className、style的写法</p><p>2.动态初始化列表，如何确定将数据放在哪个组件的state中？</p><p>​ ——某个组件使用：放在其自身的state中</p><p>​ ——某些组件使用：放在他们共同的父组件state中（官方称此操作为：状态提升）</p><p>3.关于父子之间通信：</p><p>​ 1.【父组件】给【子组件】传递数据：通过props传递</p><p>​ 2.【子组件】给【父组件】传递数据：通过props传递，要求父提前给子传递一个函数</p><p>4.注意defaultChecked 和 checked的区别，类似的还有：defaultValue 和 value</p><p>5.状态在哪里，操作状态的方法就在哪里</p><a href=#二github搜索案例相关知识点><h2 id=二github搜索案例相关知识点><span class=hanchor arialabel=Anchor># </span>二、github搜索案例相关知识点</h2></a><p>1.设计状态时要考虑全面，例如带有网络请求的组件，要考虑请求失败怎么办。</p><p>2.ES6小知识点：解构赋值+重命名</p><p>​ let obj = {a:{b:1}}</p><p>​ const {a} = obj; //传统解构赋值</p><p>​ const {a:{b}} = obj; //连续解构赋值</p><p>​ const {a:{b:value}} = obj; //连续解构赋值+重命名</p><p>3.消息订阅与发布机制</p><p>​ 1.先订阅，再发布（理解：有一种隔空对话的感觉）</p><p>​ 2.适用于任意组件间通信</p><p>​ 3.要在组件的componentWillUnmount中取消订阅</p><p>4.fetch发送请求（关注分离的设计思想）</p><p>​ try {</p><p>​ const response= await fetch(<code>/api1/search/users2?q=${keyWord}</code>)</p><p>​ const data = await response.json()</p><p>​ console.log(data);</p><p>​ } catch (error) {</p><p>​ console.log(&lsquo;请求出错&rsquo;,error);</p><p>​ }</p><p>​ ## 三、路由的基本使用</p><p>1.明确好界面中的导航区、展示区</p><p>2.导航区的a标签改为Link标签</p><p>​ <code>&lt;Link to="/xxxxx">Demo&lt;/Link></code></p><p>3.展示区写Route标签进行路径的匹配</p><p>​ <code>&lt;Route path='/xxxx' component={Demo}/></code></p><p>4.<code>&lt;App></code>的最外侧包裹了一个<code>&lt;BrowserRouter></code>或<code>&lt;HashRouter></code></p><a href=#四路由组件与一般组件><h2 id=四路由组件与一般组件><span class=hanchor arialabel=Anchor># </span>四、路由组件与一般组件</h2></a><p>1.写法不同：</p><p>​ 一般组件：<code>&lt;Demo/></code></p><p>​ 路由组件：<code>&lt;Route path="/demo" component={Demo}/></code></p><p>2.存放位置不同：</p><p>​ 一般组件：components</p><p>​ 路由组件：pages</p><p>3.接收到的props不同：</p><p>​ 一般组件：写组件标签时传递了什么，就能收到什么</p><p>​ 路由组件：接收到三个固定的属性</p><p>​ history:</p><p>​ go: ƒ go(n)</p><p>​ goBack: ƒ goBack()</p><p>​ goForward: ƒ goForward()</p><p>​ push: ƒ push(path, state)</p><p>​ replace: ƒ replace(path, state)</p><p>​ location:</p><p>​ pathname: &ldquo;/about&rdquo;</p><p>​ search: ""</p><p>​ state: undefined</p><p>​ match:</p><p>​ params: {}</p><p>​ path: &ldquo;/about&rdquo;</p><p>​ url: &ldquo;/about&rdquo;</p><a href=#五navlink与封装navlink><h2 id=五navlink与封装navlink><span class=hanchor arialabel=Anchor># </span>五、NavLink与封装NavLink</h2></a><p>​ 1.NavLink可以实现路由链接的高亮，通过activeClassName指定样式名</p><a href=#六switch的使用><h2 id=六switch的使用><span class=hanchor arialabel=Anchor># </span>六、Switch的使用</h2></a><p>​ 1.通常情况下，path和component是一一对应的关系。</p><p>​ 2.Switch可以提高路由匹配效率(单一匹配)。</p><a href=#七解决多级路径刷新页面样式丢失的问题><h2 id=七解决多级路径刷新页面样式丢失的问题><span class=hanchor arialabel=Anchor># </span>七、解决多级路径刷新页面样式丢失的问题</h2></a><p>​ 1.public/index.html 中 引入样式时不写 ./ 写 / （常用）</p><p>​ 2.public/index.html 中 引入样式时不写 ./ 写 %PUBLIC_URL% （常用）</p><p>​ 3.使用HashRouter</p><a href=#八路由的严格匹配与模糊匹配><h2 id=八路由的严格匹配与模糊匹配><span class=hanchor arialabel=Anchor># </span>八、路由的严格匹配与模糊匹配</h2></a><p>​ 1.默认使用的是模糊匹配（简单记：【输入的路径】必须包含要【匹配的路径】，且顺序要一致）</p><p>​ 2.开启严格匹配：<code>&lt;Route exact={true} path="/about" component={About}/></code></p><p>​ 3.严格匹配不要随便开启，需要再开，有些时候开启会导致无法继续匹配二级路由</p><a href=#九redirect的使用><h2 id=九redirect的使用><span class=hanchor arialabel=Anchor># </span>九、Redirect的使用</h2></a><p>​ 1.一般写在所有路由注册的最下方，当所有路由都无法匹配时，跳转到Redirect指定的路由</p><p>​ 2.具体编码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Switch</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>       <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;/about&#34;</span> <span class=na>component</span><span class=o>=</span><span class=p>{</span><span class=nx>About</span><span class=p>}/&gt;</span>
</span></span><span class=line><span class=cl>       <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;/home&#34;</span> <span class=na>component</span><span class=o>=</span><span class=p>{</span><span class=nx>Home</span><span class=p>}/&gt;</span>
</span></span><span class=line><span class=cl>       <span class=p>&lt;</span><span class=nt>Redirect</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;/about&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Switch</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><a href=#十嵌套路由><h2 id=十嵌套路由><span class=hanchor arialabel=Anchor># </span>十、嵌套路由</h2></a><p>​ 1.注册子路由时要写上父路由的path值</p><p>​ 2.路由的匹配是按照注册路由的顺序进行的</p><a href=#十二编程式路由导航><h2 id=十二编程式路由导航><span class=hanchor arialabel=Anchor># </span>十二、编程式路由导航</h2></a><p>​ 借助this.prosp.history对象上的API对操作路由跳转、前进、后退</p><p>​ -this.prosp.history.push()</p><p>​ -this.prosp.history.replace()</p><p>​ -this.prosp.history.goBack()</p><p>​ -this.prosp.history.goForward()</p><p>​ -this.prosp.history.go()</p><a href=#十三browserrouter与hashrouter的区别><h2 id=十三browserrouter与hashrouter的区别><span class=hanchor arialabel=Anchor># </span>十三、BrowserRouter与HashRouter的区别</h2></a><p>1.底层原理不一样：</p><p>​ BrowserRouter使用的是H5的history API，不兼容IE9及以下版本。</p><p>​ HashRouter使用的是URL的哈希值。</p><p>2.path表现形式不一样</p><p>​ BrowserRouter的路径中没有#,例如：localhost:3000/demo/test</p><p>​ HashRouter的路径包含#,例如：localhost:3000/#/demo/test</p><p>3.刷新后对路由state参数的影响</p><p>​ (1).BrowserRouter没有任何影响，因为state保存在history对象中。</p><p>​ (2).HashRouter刷新后会导致路由state参数的丢失！！！</p><p>4.备注：HashRouter可以用于解决一些路径错误相关的问题。</p><a href=#十四antd的按需引入自定主题><h2 id=十四antd的按需引入自定主题><span class=hanchor arialabel=Anchor># </span>十四、antd的按需引入+自定主题</h2></a><p>1.安装依赖：yarn add react-app-rewired customize-cra babel-plugin-import less less-loader</p><p>2.修改package.json</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;start&#34;</span><span class=p>:</span> <span class=s2>&#34;react-app-rewired start&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;build&#34;</span><span class=p>:</span> <span class=s2>&#34;react-app-rewired build&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;test&#34;</span><span class=p>:</span> <span class=s2>&#34;react-app-rewired test&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nt>&#34;eject&#34;</span><span class=p>:</span> <span class=s2>&#34;react-scripts eject&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=err>,</span>
</span></span></code></pre></td></tr></table></div></div><p>3.根目录创建config-overrides.js</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>//配置具体的修改规则
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=p>{</span> <span class=nx>override</span><span class=p>,</span> <span class=nx>fixBabelImports</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=nx>addLessLoader</span><span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;customize-cra&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>override</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=nx>fixBabelImports</span><span class=p>(</span><span class=s1>&#39;import&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>libraryName</span><span class=o>:</span> <span class=s1>&#39;antd&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nx>libraryDirectory</span><span class=o>:</span> <span class=s1>&#39;es&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=nx>style</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>}),</span>
</span></span><span class=line><span class=cl>	<span class=nx>addLessLoader</span><span class=p>({</span>
</span></span><span class=line><span class=cl>		<span class=nx>lessOptions</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>javascriptEnabled</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=nx>modifyVars</span><span class=o>:</span> <span class=p>{</span> <span class=s1>&#39;@primary-color&#39;</span><span class=o>:</span> 
</span></span><span class=line><span class=cl><span class=s1>&#39;green&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}),</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 4.备注：不用在组件里亲自引入样式了，即：import &lsquo;antd/dist/antd.css&rsquo;<strong>应该删掉</strong></p><a href=#特别点><h1 id=特别点><span class=hanchor arialabel=Anchor># </span>特别点</h1></a><a href=#1-setstate><h2 id=1-setstate><span class=hanchor arialabel=Anchor># </span>1. setState</h2></a><a href=#setstate更新状态的2种写法><h3 id=setstate更新状态的2种写法><span class=hanchor arialabel=Anchor># </span>setState更新状态的2种写法</h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>	(1). setState(stateChange, [callback])------对象式的setState
</span></span><span class=line><span class=cl>            1.stateChange为状态改变对象(该对象可以体现出状态的更改)
</span></span><span class=line><span class=cl>            2.callback是可选的回调函数, 它在状态更新完毕、界面也更新后(render调用后)才被调用
</span></span><span class=line><span class=cl>					
</span></span><span class=line><span class=cl>	(2). setState(updater, [callback])------函数式的setState
</span></span><span class=line><span class=cl>            1.updater为返回stateChange对象的函数。
</span></span><span class=line><span class=cl>            2.updater可以接收到state和props。
</span></span><span class=line><span class=cl>            4.callback是可选的回调函数, 它在状态更新、界面也更新后(render调用后)才被调用。
</span></span><span class=line><span class=cl>总结:
</span></span><span class=line><span class=cl>		1.对象式的setState是函数式的setState的简写方式(语法糖)
</span></span><span class=line><span class=cl>		2.使用原则：
</span></span><span class=line><span class=cl>				(1).如果新状态不依赖于原状态 ===&gt; 使用对象方式
</span></span><span class=line><span class=cl>				(2).如果新状态依赖于原状态 ===&gt; 使用函数方式
</span></span><span class=line><span class=cl>				(3).如果需要在setState()执行后获取最新的状态数据, 
</span></span><span class=line><span class=cl>					要在第二个callback函数中读取
</span></span></code></pre></td></tr></table></div></div><hr><a href=#2-lazyload><h2 id=2-lazyload><span class=hanchor arialabel=Anchor># </span>2. lazyLoad</h2></a><a href=#路由组件的lazyload><h3 id=路由组件的lazyload><span class=hanchor arialabel=Anchor># </span>路由组件的lazyLoad</h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>	<span class=c1>//1.通过React的lazy函数配合import()函数动态加载路由组件 ===&gt; 路由组件代码会被分开打包
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>const</span> <span class=nx>Login</span> <span class=o>=</span> <span class=nx>lazy</span><span class=p>(()=&gt;</span><span class=kr>import</span><span class=p>(</span><span class=s1>&#39;@/pages/Login&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=c1>//2.通过&lt;Suspense&gt;指定在加载得到路由打包文件前显示一个自定义loading界面
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=o>&lt;</span><span class=nx>Suspense</span> <span class=nx>fallback</span><span class=o>=</span><span class=p>{</span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>loading</span><span class=p>.....</span><span class=o>&lt;</span><span class=err>/h1&gt;}&gt;</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=nx>Switch</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=o>&lt;</span><span class=nx>Route</span> <span class=nx>path</span><span class=o>=</span><span class=s2>&#34;/xxx&#34;</span> <span class=nx>component</span><span class=o>=</span><span class=p>{</span><span class=nx>Xxxx</span><span class=p>}</span><span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=o>&lt;</span><span class=nx>Redirect</span> <span class=nx>to</span><span class=o>=</span><span class=s2>&#34;/login&#34;</span><span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=err>/Switch&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/Suspense&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><a href=#4-fragment><h2 id=4-fragment><span class=hanchor arialabel=Anchor># </span>4. Fragment</h2></a><a href=#使用><h3 id=使用><span class=hanchor arialabel=Anchor># </span>使用</h3></a><pre><code>&lt;Fragment&gt;&lt;Fragment&gt;
&lt;&gt;&lt;/&gt;
</code></pre><a href=#作用><h3 id=作用><span class=hanchor arialabel=Anchor># </span>作用</h3></a><blockquote><p>可以不用必须有一个真实的DOM根标签了</p></blockquote><hr><a href=#5-context><h2 id=5-context><span class=hanchor arialabel=Anchor># </span>5. Context</h2></a><a href=#理解><h3 id=理解><span class=hanchor arialabel=Anchor># </span>理解</h3></a><blockquote><p>一种组件间通信方式, 常用于【祖组件】与【后代组件】间通信</p></blockquote><a href=#使用-1><h3 id=使用-1><span class=hanchor arialabel=Anchor># </span>使用</h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=mi>1</span><span class=p>)</span> <span class=nx>创建Context容器对象</span><span class=err>：</span>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>XxxContext</span> <span class=o>=</span> <span class=nx>React</span><span class=p>.</span><span class=nx>createContext</span><span class=p>()</span>  
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl><span class=mi>2</span><span class=p>)</span> <span class=nx>渲染子组时</span><span class=err>，</span><span class=nx>外面包裹xxxContext</span><span class=p>.</span><span class=nx>Provider</span><span class=p>,</span> <span class=nx>通过value属性给后代组件传递数据</span><span class=err>：</span>
</span></span><span class=line><span class=cl>	<span class=o>&lt;</span><span class=nx>xxxContext</span><span class=p>.</span><span class=nx>Provider</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>数据</span><span class=p>}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=nx>子组件</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/xxxContext.Provider&gt;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl><span class=mi>3</span><span class=p>)</span> <span class=nx>后代组件读取数据</span><span class=err>：</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>//第一种方式:仅适用于类组件 
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=kr>static</span> <span class=nx>contextType</span> <span class=o>=</span> <span class=nx>xxxContext</span>  <span class=c1>// 声明接收context
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=k>this</span><span class=p>.</span><span class=nx>context</span> <span class=c1>// 读取context中的value数据
</span></span></span><span class=line><span class=cl><span class=c1></span>	  
</span></span><span class=line><span class=cl>	<span class=c1>//第二种方式: 函数组件与类组件都可以
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=o>&lt;</span><span class=nx>xxxContext</span><span class=p>.</span><span class=nx>Consumer</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>	    <span class=p>{</span>
</span></span><span class=line><span class=cl>	      <span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>(</span> <span class=c1>// value就是context中的value数据
</span></span></span><span class=line><span class=cl><span class=c1></span>	        <span class=nx>要显示的内容</span>
</span></span><span class=line><span class=cl>	      <span class=p>)</span>
</span></span><span class=line><span class=cl>	    <span class=p>}</span>
</span></span><span class=line><span class=cl>	  <span class=o>&lt;</span><span class=err>/xxxContext.Consumer&gt;</span>
</span></span></code></pre></td></tr></table></div></div><a href=#注意><h3 id=注意><span class=hanchor arialabel=Anchor># </span>注意</h3></a><pre><code>在应用开发中一般不用context, 一般都用它的封装react插件
</code></pre><hr><a href=#6-组件优化><h2 id=6-组件优化><span class=hanchor arialabel=Anchor># </span>6. 组件优化</h2></a><a href=#component的2个问题><h3 id=component的2个问题><span class=hanchor arialabel=Anchor># </span>Component的2个问题</h3></a><blockquote><ol><li><p>只要执行setState(),即使不改变状态数据, 组件也会重新render() ==> 效率低</p></li><li><p>只当前组件重新render(), 就会自动重新render子组件，纵使子组件没有用到父组件的任何数据 ==> 效率低</p></li></ol></blockquote><a href=#效率高的做法><h3 id=效率高的做法><span class=hanchor arialabel=Anchor># </span>效率高的做法</h3></a><blockquote><p>只有当组件的state或props数据发生改变时才重新render()</p></blockquote><a href=#原因><h3 id=原因><span class=hanchor arialabel=Anchor># </span>原因</h3></a><blockquote><p>Component中的shouldComponentUpdate()总是返回true</p></blockquote><a href=#解决><h3 id=解决><span class=hanchor arialabel=Anchor># </span>解决</h3></a><pre><code>办法1: 
	重写shouldComponentUpdate()方法
	比较新旧state或props数据, 如果有变化才返回true, 如果没有返回false
办法2:  
	使用PureComponent
	PureComponent重写了shouldComponentUpdate(), 只有state或props数据有变化才返回true
	注意: 
		只是进行state和props数据的浅比较, 如果只是数据对象内部数据变了, 返回false  
		不要直接修改state数据, 而是要产生新数据
项目中一般使用PureComponent来优化
</code></pre><hr><a href=#7-render-props><h2 id=7-render-props><span class=hanchor arialabel=Anchor># </span>7. render props</h2></a><a href=#如何向组件内部动态传入带内容的结构标签><h3 id=如何向组件内部动态传入带内容的结构标签><span class=hanchor arialabel=Anchor># </span>如何向组件内部动态传入带内容的结构(标签)?</h3></a><pre><code>Vue中: 
	使用slot技术, 也就是通过组件标签体传入结构  &lt;A&gt;&lt;B/&gt;&lt;/A&gt;
React中:
	使用children props: 通过组件标签体传入结构
	使用render props: 通过组件标签属性传入结构,而且可以携带数据，一般用render函数属性
</code></pre><a href=#children-props><h3 id=children-props><span class=hanchor arialabel=Anchor># </span>children props</h3></a><pre><code>&lt;A&gt;
  &lt;B&gt;xxxx&lt;/B&gt;
&lt;/A&gt;
{this.props.children}
问题: 如果B组件需要A组件内的数据, ==&gt; 做不到 
</code></pre><a href=#render-props><h3 id=render-props><span class=hanchor arialabel=Anchor># </span>render props</h3></a><pre><code>&lt;A render={(data) =&gt; &lt;C data={data}&gt;&lt;/C&gt;}&gt;&lt;/A&gt;
A组件: {this.props.render(内部state数据)}
C组件: 读取A组件传入的数据显示 {this.props.data} 
</code></pre><hr><a href=#8-错误边界><h2 id=8-错误边界><span class=hanchor arialabel=Anchor># </span>8. 错误边界</h2></a><a href=#理解-1><h4 id=理解-1><span class=hanchor arialabel=Anchor># </span>理解：</h4></a><p>错误边界(Error boundary)：用来捕获后代组件错误，渲染出备用页面</p><a href=#特点><h4 id=特点><span class=hanchor arialabel=Anchor># </span>特点：</h4></a><p>只能捕获后代组件生命周期产生的错误，不能捕获自己组件产生的错误和其他组件在合成事件、定时器中产生的错误</p><a href=#使用方式><h5 id=使用方式><span class=hanchor arialabel=Anchor># </span>使用方式：</h5></a><p>getDerivedStateFromError配合componentDidCatch</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 生命周期函数，一旦后台组件报错，就会触发
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>static</span> <span class=nx>getDerivedStateFromError</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 在render之前触发
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 返回新的state
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>hasError</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>componentDidCatch</span><span class=p>(</span><span class=nx>error</span><span class=p>,</span> <span class=nx>info</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 统计页面的错误。发送请求发送到后台去
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>,</span> <span class=nx>info</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#9-组件通信方式总结><h2 id=9-组件通信方式总结><span class=hanchor arialabel=Anchor># </span>9. 组件通信方式总结</h2></a><a href=#组件间的关系><h4 id=组件间的关系><span class=hanchor arialabel=Anchor># </span>组件间的关系：</h4></a><ul><li>父子组件</li><li>兄弟组件（非嵌套组件）</li><li>祖孙组件（跨级组件）</li></ul><a href=#几种通信方式><h4 id=几种通信方式><span class=hanchor arialabel=Anchor># </span>几种通信方式：</h4></a><pre><code>	1.props：
		(1).children props
		(2).render props
	2.消息订阅-发布：
		pubs-sub、event等等
	3.集中式管理：
		redux、dva等等
	4.conText:
		生产者-消费者模式
</code></pre><a href=#比较好的搭配方式><h4 id=比较好的搭配方式><span class=hanchor arialabel=Anchor># </span>比较好的搭配方式：</h4></a><pre><code>	父子组件：props
	兄弟组件：消息订阅-发布、集中式管理
	祖孙组件(跨级组件)：消息订阅-发布、集中式管理、conText(开发用的少，封装插件用的多)
</code></pre><a href=#hooks><h1 id=hooks><span class=hanchor arialabel=Anchor># </span>Hooks</h1></a><a href=#react-hookhooks是什么><h2 id=react-hookhooks是什么><span class=hanchor arialabel=Anchor># </span>React Hook/Hooks是什么?</h2></a><ol><li>Hook是React 16.8.0版本增加的新特性/新语法</li><li>可以让你在函数组件中使用 state 以及其他的 React 特性</li></ol><a href=#state-hook><h2 id=state-hook><span class=hanchor arialabel=Anchor># </span>State Hook</h2></a><ol><li><p>State Hook让函数组件也可以有state状态, 并进行状态数据的读写操作</p></li><li><p>语法: <code>const [xxx, setXxx] = React.useState(initValue)</code></p></li><li><p><code>useState()</code>说明:</p><ul><li>参数: 第一次初始化指定的值在内部作缓存</li><li>返回值: 包含2个元素的数组, 第1个为内部当前状态值, 第2个为更新状态值的函数</li><li><code>setXxx()</code>2种写法:<ul><li><code>setXxx(newValue)</code> 参数为非函数值, 直接指定新的状态值, 内部用其覆盖原来的状态值</li><li><code>setXxx(value => newValue)</code> 参数为函数, 接收原本的状态值, 返回新的状态值, 内部用其覆盖原来的状态值</li></ul></li></ul></li></ol><a href=#effect-hook><h2 id=effect-hook><span class=hanchor arialabel=Anchor># </span>Effect Hook</h2></a><ol><li><p>Effect Hook 可以让你在函数组件中执行副作用操作(用于模拟类组件中的生命周期钩子)</p></li><li><p>React中的副作用操作:</p><ul><li>发ajax请求数据获取</li><li>设置订阅 / 启动定时器</li><li>手动更改真实DOM</li></ul></li><li><p>语法和说明:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>x</span> <span class=nx>f</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>	<span class=c1>// 在此可以执行任何带副作用操作
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span> <span class=c1>// 在组件卸载前执行
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// 在此做一些收尾工作, 比如清除定时器/取消订阅等
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>[</span><span class=nx>stateValue</span><span class=p>])</span> <span class=c1>// 如果指定的是[], 回调函数只会在第一次render()后执行
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>可以把 <code>useEffect Hook</code>看做如下三个函数的组合</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>componentDidMount</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>componentDidUpdate</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>componentWillUnmount</span><span class=p>()</span> 
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#ref-hook><h2 id=ref-hook><span class=hanchor arialabel=Anchor># </span>Ref Hook</h2></a><ol><li>Ref Hook可以在函数组件中存储/查找组件内的标签或任意其它数据</li><li>语法: <code>const refContainer = useRef()</code></li><li>作用:保存标签对象,功能与<code>React.createRef()</code>一样</li></ol><a href=#react-router-6><h1 id=react-router-6><span class=hanchor arialabel=Anchor># </span>React Router 6</h1></a><a href=#1-简介><h2 id=1-简介><span class=hanchor arialabel=Anchor># </span>1 简介</h2></a><ol><li>React Router 以三个不同的包发布到 npm 上，它们分别为：<ol><li>react-router: 路由的核心库，提供了很多的：组件、钩子。</li><li><strong style=color:#dd4d40><strong>react-router-dom:</strong></strong> <strong style=color:#dd4d40>包含react-router所有内容，并添加一些专门用于 DOM 的组件，例如 <code>&lt;BrowserRouter></code>等 </strong>。</li><li>react-router-native: 包括react-router所有内容，并添加一些专门用于ReactNative的API，例如:<code>&lt;NativeRouter></code>等。</li></ol></li><li>与React Router 5.x 版本相比，改变了什么？<ol><li><p>内置组件的变化：移除<code>&lt;Switch/></code> ，新增 <code>&lt;Routes/></code>等。</p></li><li><p>语法的变化：<code>component={About}</code> 变为 <code>element={&lt;About/>}</code>等。</p></li><li><p>新增多个hook：<code>useParams</code>、<code>useNavigate</code>、<code>useMatch</code>等。</p></li><li><p><strong style=color:#dd4d40>官方明确推荐函数式组件了！！！</strong></p><p>……</p></li></ol></li></ol><a href=#2-component><h2 id=2-component><span class=hanchor arialabel=Anchor># </span>2 Component</h2></a><a href=#1-browserrouter><h3 id=1-browserrouter><span class=hanchor arialabel=Anchor># </span>1. <code>&lt;BrowserRouter></code></h3></a><ol><li><p>说明：<code>&lt;BrowserRouter> </code>用于包裹整个应用。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>ReactDOM</span> <span class=nx>from</span> <span class=s2>&#34;react-dom&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>BrowserRouter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react-router-dom&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ReactDOM</span><span class=p>.</span><span class=nx>render</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>BrowserRouter</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=cm>/* 整体结构（通常为App组件） */</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>BrowserRouter</span><span class=p>&gt;,</span><span class=nx>root</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#2-hashrouter><h3 id=2-hashrouter><span class=hanchor arialabel=Anchor># </span>2. <code>&lt;HashRouter></code></h3></a><ol><li>说明：<strong>作用与<code>&lt;BrowserRouter></code>一样，但<code>&lt;HashRouter></code>修改的是地址栏的hash值。</strong></li><li>备注：6.x版本中<code>&lt;HashRouter></code>、<code>&lt;BrowserRouter></code> 的用法与 5.x 相同。</li></ol><a href=#3-routes-与-route><h3 id=3-routes-与-route><span class=hanchor arialabel=Anchor># </span>3. <code>&lt;Routes/> 与 &lt;Route/></code></h3></a><ol><li><p>v6版本中移出了先前的<code>&lt;Switch></code>，引入了新的替代者：<code>&lt;Routes></code>。</p></li><li><p><code>&lt;Routes></code> 和 <code>&lt;Route></code>要配合使用，且必须要用<code>&lt;Routes></code>包裹<code>&lt;Route></code>。</p></li><li><p><code>&lt;Route></code> 相当于一个 if 语句，如果其路径与当前 URL 匹配，则呈现其对应的组件。</p></li><li><p><code>&lt;Route caseSensitive></code> 属性用于指定：匹配时是否区分大小写（默认为 false）。</p></li><li><p>当URL发生变化时，<code>&lt;Routes> </code>都会查看其所有子<code> &lt;Route></code> 元素以找到最佳匹配并呈现组件 。</p></li><li><p><code>&lt;Route></code> 也可以嵌套使用，且可配合<code>useRoutes()</code>配置 “路由表” ，但需要通过 <code>&lt;Outlet></code> 组件来渲染其子路由。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Routes</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cm>/*path属性用于定义路径，element属性用于定义当前路径所对应的组件*/</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;/login&#34;</span> <span class=na>element</span><span class=o>=</span><span class=p>{&lt;</span><span class=nt>Login</span> <span class=p>/&gt;}&gt;&lt;/</span><span class=nt>Route</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=cm>/*用于定义嵌套路由，home是一级路由，对应的路径/home*/</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;home&#34;</span> <span class=na>element</span><span class=o>=</span><span class=p>{&lt;</span><span class=nt>Home</span> <span class=p>/&gt;}&gt;</span>
</span></span><span class=line><span class=cl>       <span class=cm>/*test1 和 test2 是二级路由,对应的路径是/home/test1 或 /home/test2*/</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;test1&#34;</span> <span class=na>element</span><span class=o>=</span><span class=p>{&lt;</span><span class=nt>Test</span><span class=p>/&gt;}&gt;&lt;/</span><span class=nt>Route</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;test2&#34;</span> <span class=na>element</span><span class=o>=</span><span class=p>{&lt;</span><span class=nt>Test2</span><span class=p>/&gt;}&gt;&lt;/</span><span class=nt>Route</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;/</span><span class=nt>Route</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=c1>//Route也可以不写element属性, 这时就是用于展示嵌套的路由 .所对应的路径是/users/xxx
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>       <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;xxx&#34;</span> <span class=na>element</span><span class=o>=</span><span class=p>{&lt;</span><span class=nt>Demo</span> <span class=p>/&gt;}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Route</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Routes</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#4-link><h3 id=4-link><span class=hanchor arialabel=Anchor># </span>4. <code>&lt;Link></code></h3></a><ol><li><p>作用: 修改URL，且不发送网络请求（路由链接）。</p></li><li><p>注意: 外侧需要用<code>&lt;BrowserRouter></code>或<code>&lt;HashRouter></code>包裹。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Link</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react-router-dom&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Test</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>Link</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;/路径&#34;</span><span class=p>&gt;</span><span class=nx>按钮</span><span class=p>&lt;/</span><span class=nt>Link</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#5-navlink><h3 id=5-navlink><span class=hanchor arialabel=Anchor># </span>5. <code>&lt;NavLink></code></h3></a><ol><li><p>作用: 与<code>&lt;Link></code>组件类似，且可实现导航的“高亮”效果。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=c1>// 注意: NavLink默认类名是active，下面是指定自定义的class
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>//自定义样式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;</span><span class=nt>NavLink</span>
</span></span><span class=line><span class=cl>    <span class=na>to</span><span class=o>=</span><span class=s>&#34;login&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>className</span><span class=o>=</span><span class=p>{({</span> <span class=nx>isActive</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;home&#39;</span><span class=p>,</span> <span class=nx>isActive</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>isActive</span> <span class=o>?</span> <span class=s1>&#39;base one&#39;</span> <span class=o>:</span> <span class=s1>&#39;base&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>&gt;</span><span class=nx>login</span><span class=p>&lt;/</span><span class=nt>NavLink</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm> 默认情况下，当Home的子组件匹配成功，Home的导航也会高亮，
</span></span></span><span class=line><span class=cl><span class=cm> 当NavLink上添加了end属性后，若Home的子组件匹配成功，则Home的导航没有高亮效果。
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>NavLink</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;home&#34;</span> <span class=na>end</span> <span class=p>&gt;</span><span class=nx>home</span><span class=p>&lt;/</span><span class=nt>NavLink</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#6-navigate><h3 id=6-navigate><span class=hanchor arialabel=Anchor># </span>6. <code>&lt;Navigate></code></h3></a><ol><li><p>作用：只要<code>&lt;Navigate></code>组件被渲染，就会修改路径，切换视图。</p></li><li><p><code>replace</code>属性用于控制跳转模式（push 或 replace，默认是push）。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span><span class=p>,{</span><span class=nx>useState</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>Navigate</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Home</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=kr>const</span> <span class=p>[</span><span class=nx>sum</span><span class=p>,</span><span class=nx>setSum</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span><span class=nx>我是Home的内容</span><span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span><span class=cm>/* 根据sum的值决定是否切换视图 */</span><span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span><span class=nx>sum</span> <span class=o>===</span> <span class=mi>1</span> <span class=o>?</span> <span class=p>&lt;</span><span class=nt>h4</span><span class=p>&gt;</span><span class=nx>sum的值为</span><span class=p>{</span><span class=nx>sum</span><span class=p>}&lt;/</span><span class=nt>h4</span><span class=p>&gt;</span> <span class=o>:</span> <span class=p>&lt;</span><span class=nt>Navigate</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;/about&#34;</span> <span class=na>replace</span><span class=o>=</span><span class=p>{</span><span class=kc>true</span><span class=p>}/&gt;}</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>button</span> <span class=na>onClick</span><span class=o>=</span><span class=p>{()=&gt;</span><span class=nx>setSum</span><span class=p>(</span><span class=mi>2</span><span class=p>)}&gt;</span><span class=nx>点我将sum变为2</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#7-outlet><h3 id=7-outlet><span class=hanchor arialabel=Anchor># </span>7. <code>&lt;Outlet></code></h3></a><ol><li><p>当<code>&lt;Route></code>产生嵌套时，渲染其对应的后续子路由。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=c1>//根据路由表生成对应的路由规则
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>element</span> <span class=o>=</span> <span class=nx>useRoutes</span><span class=p>([</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/about&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>element</span><span class=o>:</span><span class=p>&lt;</span><span class=nt>About</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>element</span><span class=o>:</span><span class=p>&lt;</span><span class=nt>Home</span><span class=p>/&gt;,</span>
</span></span><span class=line><span class=cl>    <span class=nx>children</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>path</span><span class=o>:</span><span class=s1>&#39;news&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>element</span><span class=o>:</span><span class=p>&lt;</span><span class=nt>News</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>path</span><span class=o>:</span><span class=s1>&#39;message&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>element</span><span class=o>:</span><span class=p>&lt;</span><span class=nt>Message</span><span class=p>/&gt;,</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//Home.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>NavLink</span><span class=p>,</span><span class=nx>Outlet</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Home</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span><span class=nx>Home组件内容</span><span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>       <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>className</span><span class=o>=</span><span class=s>&#34;nav nav-tabs&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>         <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>           <span class=p>&lt;</span><span class=nt>NavLink</span> <span class=na>className</span><span class=o>=</span><span class=s>&#34;list-group-item&#34;</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;news&#34;</span><span class=p>&gt;</span><span class=nx>News</span><span class=p>&lt;/</span><span class=nt>NavLink</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>         <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>         <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>           <span class=p>&lt;</span><span class=nt>NavLink</span> <span class=na>className</span><span class=o>=</span><span class=s>&#34;list-group-item&#34;</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;message&#34;</span><span class=p>&gt;</span><span class=nx>Message</span><span class=p>&lt;/</span><span class=nt>NavLink</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>         <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>       <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>       <span class=p>{</span><span class=cm>/* 指定路由组件呈现的位置 */</span><span class=p>}</span>
</span></span><span class=line><span class=cl>       <span class=p>&lt;</span><span class=nt>Outlet</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#3-hooks><h2 id=3-hooks><span class=hanchor arialabel=Anchor># </span>3 Hooks</h2></a><a href=#1-useroutes><h3 id=1-useroutes><span class=hanchor arialabel=Anchor># </span>1. useRoutes()</h3></a><ol><li><p>作用：根据路由表，动态创建<code>&lt;Routes></code>和<code>&lt;Route></code>。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=c1>//路由表配置：src/routes/index.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>About</span> <span class=nx>from</span> <span class=s1>&#39;../pages/About&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Home</span> <span class=nx>from</span> <span class=s1>&#39;../pages/Home&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>Navigate</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>[</span>
</span></span><span class=line><span class=cl> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/about&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=nx>element</span><span class=o>:</span><span class=p>&lt;</span><span class=nt>About</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>},</span>
</span></span><span class=line><span class=cl> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=nx>element</span><span class=o>:</span><span class=p>&lt;</span><span class=nt>Home</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>},</span>
</span></span><span class=line><span class=cl> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>path</span><span class=o>:</span><span class=s1>&#39;/&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>   <span class=nx>element</span><span class=o>:</span><span class=p>&lt;</span><span class=nt>Navigate</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;/about&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//App.jsx
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>NavLink</span><span class=p>,</span><span class=nx>useRoutes</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>routes</span> <span class=nx>from</span> <span class=s1>&#39;./routes&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>App</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=c1>//根据路由表生成对应的路由规则
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=kr>const</span> <span class=nx>element</span> <span class=o>=</span> <span class=nx>useRoutes</span><span class=p>(</span><span class=nx>routes</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>......</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=cm>/* 注册路由 */</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>element</span><span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=p>......</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#2-usenavigate><h3 id=2-usenavigate><span class=hanchor arialabel=Anchor># </span>2. useNavigate()</h3></a><ol><li><p>作用：返回一个函数用来实现编程式导航。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>useNavigate</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Demo</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>navigate</span> <span class=o>=</span> <span class=nx>useNavigate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>handle</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//第一种使用方式：指定具体的路径
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>navigate</span><span class=p>(</span><span class=s1>&#39;/login&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>replace</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>state</span><span class=o>:</span> <span class=p>{</span><span class=nx>a</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span> <span class=nx>b</span><span class=o>:</span><span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span> 
</span></span><span class=line><span class=cl>    <span class=c1>//第二种使用方式：传入数值进行前进或后退，类似于5.x中的 history.go()方法
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>navigate</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>button</span> <span class=na>onClick</span><span class=o>=</span><span class=p>{</span><span class=nx>handle</span><span class=p>}&gt;</span><span class=nx>按钮</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#3-useparams><h3 id=3-useparams><span class=hanchor arialabel=Anchor># </span>3. useParams()</h3></a><ol><li><p>作用：回当前匹配路由的<code>params</code>参数，类似于5.x中的<code>match.params</code>。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Routes</span><span class=p>,</span> <span class=nx>Route</span><span class=p>,</span> <span class=nx>useParams</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>User</span> <span class=nx>from</span> <span class=s1>&#39;./pages/User.jsx&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ProfilePage</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 获取URL中携带过来的params参数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>let</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>useParams</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>App</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Routes</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;users/:id&#34;</span> <span class=na>element</span><span class=o>=</span><span class=p>{&lt;</span><span class=nt>User</span> <span class=p>/&gt;}/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Routes</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#4-usesearchparams><h3 id=4-usesearchparams><span class=hanchor arialabel=Anchor># </span>4. useSearchParams()</h3></a><ol><li><p>作用：用于读取和修改当前位置的 URL 中的查询字符串。</p></li><li><p>返回一个包含两个值的数组，内容分别为：当前的seaech参数、更新search的函数。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>useSearchParams</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Detail</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=kr>const</span> <span class=p>[</span><span class=nx>search</span><span class=p>,</span><span class=nx>setSearch</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useSearchParams</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=kr>const</span> <span class=nx>id</span> <span class=o>=</span> <span class=nx>search</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;id&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=kr>const</span> <span class=nx>title</span> <span class=o>=</span> <span class=nx>search</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;title&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=kr>const</span> <span class=nx>content</span> <span class=o>=</span> <span class=nx>search</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;content&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>       <span class=p>&lt;</span><span class=nt>button</span> <span class=na>onClick</span><span class=o>=</span><span class=p>{()=&gt;</span><span class=nx>setSearch</span><span class=p>(</span><span class=s1>&#39;id=008&amp;title=哈哈&amp;content=嘻嘻&#39;</span><span class=p>)}&gt;</span><span class=nx>点我更新一下收到的search参数</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span><span class=nx>消息编号</span><span class=err>：</span><span class=p>{</span><span class=nx>id</span><span class=p>}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span><span class=nx>消息标题</span><span class=err>：</span><span class=p>{</span><span class=nx>title</span><span class=p>}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span><span class=nx>消息内容</span><span class=err>：</span><span class=p>{</span><span class=nx>content</span><span class=p>}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#5-uselocation><h3 id=5-uselocation><span class=hanchor arialabel=Anchor># </span>5. useLocation()</h3></a><ol><li><p>作用：获取当前 location 信息，对标5.x中的路由组件的<code>location</code>属性。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span><span class=nx>useLocation</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Detail</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=kr>const</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>useLocation</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;@&#39;</span><span class=p>,</span><span class=nx>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=c1>// x就是location对象: 
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>   {
</span></span></span><span class=line><span class=cl><span class=cm>      hash: &#34;&#34;,
</span></span></span><span class=line><span class=cl><span class=cm>      key: &#34;ah9nv6sz&#34;,
</span></span></span><span class=line><span class=cl><span class=cm>      pathname: &#34;/login&#34;,
</span></span></span><span class=line><span class=cl><span class=cm>      search: &#34;?name=zs&amp;age=18&#34;,
</span></span></span><span class=line><span class=cl><span class=cm>      state: {a: 1, b: 2}
</span></span></span><span class=line><span class=cl><span class=cm>    }
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span><span class=nx>消息编号</span><span class=err>：</span><span class=p>{</span><span class=nx>id</span><span class=p>}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span><span class=nx>消息标题</span><span class=err>：</span><span class=p>{</span><span class=nx>title</span><span class=p>}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span><span class=nx>消息内容</span><span class=err>：</span><span class=p>{</span><span class=nx>content</span><span class=p>}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#6-usematch><h3 id=6-usematch><span class=hanchor arialabel=Anchor># </span>6. useMatch()</h3></a><ol><li><p>作用：返回当前匹配信息，对标5.x中的路由组件的<code>match</code>属性。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#34;/login/:page/:pageSize&#34;</span> <span class=na>element</span><span class=o>=</span><span class=p>{&lt;</span><span class=nt>Login</span> <span class=p>/&gt;}/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>NavLink</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;/login/1/10&#34;</span><span class=p>&gt;</span><span class=nx>登录</span><span class=p>&lt;/</span><span class=nt>NavLink</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Login</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>match</span> <span class=o>=</span> <span class=nx>useMatch</span><span class=p>(</span><span class=s1>&#39;/login/:x/:y&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>match</span><span class=p>)</span> <span class=c1>//输出match对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//match对象内容如下：
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>   {
</span></span></span><span class=line><span class=cl><span class=cm>      params: {x: &#39;1&#39;, y: &#39;10&#39;}
</span></span></span><span class=line><span class=cl><span class=cm>      pathname: &#34;/LoGin/1/10&#34;  
</span></span></span><span class=line><span class=cl><span class=cm>      pathnameBase: &#34;/LoGin/1/10&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      pattern: {
</span></span></span><span class=line><span class=cl><span class=cm>       path: &#39;/login/:x/:y&#39;, 
</span></span></span><span class=line><span class=cl><span class=cm>       caseSensitive: false, 
</span></span></span><span class=line><span class=cl><span class=cm>       end: false
</span></span></span><span class=line><span class=cl><span class=cm>      }
</span></span></span><span class=line><span class=cl><span class=cm>    }
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span><span class=nx>Login</span><span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><a href=#7-useinroutercontext><h3 id=7-useinroutercontext><span class=hanchor arialabel=Anchor># </span>7. useInRouterContext()</h3></a><p>​ 作用：如果组件在 <code>&lt;Router></code> 的上下文中呈现，则 <code>useInRouterContext</code> 钩子返回 true，否则返回 false。</p><a href=#8-usenavigationtype><h3 id=8-usenavigationtype><span class=hanchor arialabel=Anchor># </span>8. useNavigationType()</h3></a><ol><li>作用：返回当前的导航类型（用户是如何来到当前页面的）。</li><li>返回值：<code>POP</code>、<code>PUSH</code>、<code>REPLACE</code>。</li><li>备注：<code>POP</code>是指在浏览器中直接打开了这个路由组件（刷新页面）。</li></ol><a href=#9-useoutlet><h3 id=9-useoutlet><span class=hanchor arialabel=Anchor># </span>9. useOutlet()</h3></a><ol><li><p>作用：用来呈现当前组件中渲染的嵌套路由。</p></li><li><p>示例代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>useOutlet</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 如果嵌套路由没有挂载,则result为null
</span></span></span><span class=line><span class=cl><span class=c1>// 如果嵌套路由已经挂载,则展示嵌套的路由对象
</span></span></span></code></pre></td></tr></table></div></div></li></ol><a href=#10useresolvedpath><h3 id=10useresolvedpath><span class=hanchor arialabel=Anchor># </span>10.useResolvedPath()</h3></a><ol><li>作用：给定一个 URL值，解析其中的：path、search、hash值。</li></ol></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/%E5%89%8D%E7%AB%AF/ data-ctx=react data-src=/%E5%89%8D%E7%AB%AF class=internal-link>前端</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://jieye-ericx.github.io/js/graph.6579af7b10c818dbd2ca038702db0224.js></script></div></div><div id=contact_buttons><footer><p>Made by Jieye ericx using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2023</p><ul><li><a href=https://jieye-ericx.github.io/>Home</a></li><li><a href=https://github.com/jieye-ericx>Github</a></li></ul></footer></div></div></body></html>